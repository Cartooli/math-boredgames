<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Endless MAP Math practice questions. Prepare for MAP Growth assessments with unlimited math problems covering ratios, percentages, algebra, geometry, and more.">
    <meta name="keywords" content="MAP test prep, MAP Growth math, math practice, NWEA MAP, math assessment, unlimited practice">
    <title>MAP Math Prep - Endless Practice | MathBored</title>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://math.boredgames.site/map-prep.html">
    <meta property="og:title" content="MAP Math Prep - Endless Practice | MathBored">
    <meta property="og:description" content="Endless MAP Math practice questions. Prepare for MAP Growth assessments with unlimited math problems.">
    <meta property="og:image" content="https://math.boredgames.site/og-image.png?v=2">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="MAP Math Prep - Endless Practice | MathBored">
    <meta property="twitter:description" content="Endless MAP Math practice questions for MAP Growth assessment prep.">
    
    <link rel="canonical" href="https://math.boredgames.site/map-prep.html">
    <link rel="icon" type="image/svg+xml" href="icon.svg">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="growth-engine.css">
    <style>
        .map-prep-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .map-hero {
            text-align: center;
            margin-bottom: 30px;
            padding: 40px 24px;
            background: 
                radial-gradient(ellipse at 20% 50%, rgba(16, 185, 129, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 50%, rgba(59, 130, 246, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #059669 0%, #0891b2 100%);
            border-radius: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .map-hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.06'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }
        
        .map-hero > * {
            position: relative;
            z-index: 1;
        }
        
        .map-hero h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            -webkit-text-fill-color: white;
            background: none;
        }
        
        .map-hero p {
            font-size: 1.1rem;
            opacity: 0.95;
            margin: 0;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            transition: opacity 0.2s;
        }
        
        .back-link:hover {
            opacity: 0.8;
        }
        
        /* Stats Panel */
        .map-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .map-stat {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px 12px;
            text-align: center;
            transition: all 0.2s ease;
        }
        
        .map-stat:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .map-stat-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            display: block;
            line-height: 1.2;
        }
        
        .map-stat-value.streak {
            color: #f59e0b;
        }
        
        .map-stat-value.accuracy {
            color: #10b981;
        }
        
        .map-stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }
        
        /* Question Card */
        .map-question-card {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .question-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }
        
        .question-number {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        .difficulty-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .difficulty-easy {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .difficulty-medium {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .difficulty-hard {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        
        .question-text {
            font-size: 1.25rem;
            line-height: 1.7;
            color: var(--text-primary);
            margin-bottom: 28px;
            white-space: pre-wrap;
        }
        
        .question-text strong {
            color: var(--accent);
        }
        
        /* Answer Options */
        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .answer-option {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 18px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.05rem;
            color: var(--text-primary);
            text-align: left;
            width: 100%;
        }
        
        .answer-option:hover:not(.disabled) {
            border-color: var(--accent);
            transform: translateX(4px);
            background: rgba(59, 130, 246, 0.05);
        }
        
        .answer-option.selected {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .answer-option.correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.15);
            animation: correctPulse 0.5s ease;
        }
        
        .answer-option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.15);
            animation: shake 0.4s ease;
        }
        
        .answer-option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .answer-option.show-correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }
        
        .option-letter {
            width: 36px;
            height: 36px;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.95rem;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }
        
        .answer-option:hover:not(.disabled) .option-letter {
            border-color: var(--accent);
            background: var(--accent);
            color: white;
        }
        
        .answer-option.correct .option-letter {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }
        
        .answer-option.incorrect .option-letter {
            background: #ef4444;
            border-color: #ef4444;
            color: white;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-8px); }
            40% { transform: translateX(8px); }
            60% { transform: translateX(-4px); }
            80% { transform: translateX(4px); }
        }
        
        /* Hint Section */
        .hint-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
        
        .hint-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .hint-toggle:hover {
            border-color: #f59e0b;
            color: #f59e0b;
        }
        
        .hint-content {
            display: none;
            margin-top: 16px;
            padding: 16px 20px;
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid #f59e0b;
            border-radius: 0 10px 10px 0;
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .hint-content.visible {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        /* Feedback Message */
        .feedback-message {
            display: none;
            margin-top: 20px;
            padding: 20px;
            border-radius: 14px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            animation: slideUp 0.3s ease;
        }
        
        .feedback-message.visible {
            display: block;
        }
        
        .feedback-message.correct {
            background: rgba(16, 185, 129, 0.15);
            border: 2px solid #10b981;
            color: #10b981;
        }
        
        .feedback-message.incorrect {
            background: rgba(239, 68, 68, 0.15);
            border: 2px solid #ef4444;
            color: #ef4444;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            justify-content: center;
        }
        
        .btn-next {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--accent), var(--accent-hover));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-skip {
            padding: 16px 28px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-skip:hover {
            border-color: var(--text-secondary);
            color: var(--text-primary);
        }
        
        /* Streak Animation */
        .streak-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 24px 48px;
            border-radius: 20px;
            font-size: 1.5rem;
            font-weight: 800;
            z-index: 1000;
            box-shadow: 0 10px 40px rgba(245, 158, 11, 0.4);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .streak-popup.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }
        
        /* Progress indicator */
        .session-progress {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .progress-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            white-space: nowrap;
        }
        
        .progress-bar-container {
            flex: 1;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .progress-count {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 600;
            white-space: nowrap;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .map-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .map-hero h1 {
                font-size: 1.8rem;
            }
            
            .map-question-card {
                padding: 24px 20px;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .answer-option {
                padding: 14px 16px;
                font-size: 0.95rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn-next, .btn-skip {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .map-prep-container {
                padding: 12px;
            }
            
            .map-stats {
                gap: 8px;
            }
            
            .map-stat {
                padding: 12px 8px;
            }
            
            .map-stat-value {
                font-size: 1.4rem;
            }
            
            .option-letter {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }
        }

        /* ‚îÄ‚îÄ Daily Goal Bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .daily-goal-bar {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px 20px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .daily-goal-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            white-space: nowrap;
        }

        .daily-goal-count {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 700;
            white-space: nowrap;
            min-width: 52px;
        }

        .day-streak-badge {
            font-size: 0.85rem;
            font-weight: 700;
            color: #f59e0b;
            white-space: nowrap;
            margin-left: auto;
        }

        .day-streak-badge.active {
            color: #10b981;
        }

        .progress-bar-fill.goal-fill {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .progress-bar-fill.goal-complete {
            background: linear-gradient(90deg, #10b981, #059669);
        }

        .daily-goal-count.goal-complete {
            color: #10b981;
        }

        /* ‚îÄ‚îÄ Weak Areas Panel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .weak-areas-panel {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 14px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .weak-areas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--text-primary);
            user-select: none;
            transition: background 0.2s;
        }

        .weak-areas-header:hover {
            background: var(--bg-tertiary);
        }

        .weak-toggle-icon {
            font-size: 0.75rem;
            color: var(--text-secondary);
            transition: transform 0.2s;
        }

        .weak-toggle-icon.open {
            transform: rotate(180deg);
        }

        .weak-areas-body {
            padding: 0 20px 20px;
            border-top: 1px solid var(--border);
        }

        .topic-row {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 0.9rem;
        }

        .topic-row:last-child { border-bottom: none; }

        .topic-name {
            flex: 1;
            font-weight: 600;
            color: var(--text-primary);
        }

        .topic-stats {
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: nowrap;
        }

        .topic-mini-bar {
            width: 80px;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
        }

        .topic-mini-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.4s ease;
        }

        .topic-mini-fill.good { background: #10b981; }
        .topic-mini-fill.ok   { background: #f59e0b; }
        .topic-mini-fill.bad  { background: #ef4444; }

        .weak-area-actions {
            display: flex;
            gap: 10px;
            margin: 16px 0 12px;
            flex-wrap: wrap;
        }

        .btn-weak-mode {
            padding: 10px 20px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-weak-mode:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }

        .btn-clear-history {
            padding: 10px 20px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-clear-history:hover {
            border-color: #ef4444;
            color: #ef4444;
        }

        .missed-list {
            margin-top: 4px;
        }

        .missed-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px 12px;
            background: rgba(239, 68, 68, 0.07);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 0.88rem;
            color: var(--text-secondary);
        }

        .missed-item-topic {
            font-size: 0.72rem;
            padding: 2px 8px;
            border-radius: 10px;
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .missed-item-text {
            flex: 1;
            line-height: 1.4;
        }

        /* ‚îÄ‚îÄ Weak Mode Banner ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .weak-mode-banner {
            background: linear-gradient(135deg, rgba(239,68,68,0.12), rgba(220,38,38,0.12));
            border: 2px solid rgba(239,68,68,0.35);
            border-radius: 12px;
            padding: 14px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
            font-size: 0.95rem;
            color: #ef4444;
        }

        .weak-mode-banner button {
            padding: 6px 16px;
            background: rgba(239,68,68,0.12);
            border: 2px solid rgba(239,68,68,0.35);
            border-radius: 8px;
            color: #ef4444;
            font-weight: 700;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .weak-mode-banner button:hover {
            background: rgba(239,68,68,0.22);
        }

        .no-history-msg {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .daily-goal-bar {
                flex-wrap: wrap;
                gap: 8px;
            }
            .day-streak-badge { margin-left: 0; }
            .topic-mini-bar { width: 60px; }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>üéØ MathBored</h1>
                    <div class="tagline">MAP Math Prep - Endless Practice</div>
                </div>
                <div class="theme-selector">
                    <div class="theme-btn theme-midnight active" data-theme="" title="Midnight"></div>
                    <div class="theme-btn theme-ocean" data-theme="ocean" title="Ocean"></div>
                    <div class="theme-btn theme-forest" data-theme="forest" title="Forest"></div>
                    <div class="theme-btn theme-sunset" data-theme="sunset" title="Sunset"></div>
                    <div class="theme-btn theme-purple" data-theme="purple" title="Purple"></div>
                    <div class="theme-btn theme-light" data-theme="light" title="Light"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="map-prep-container">
        <a href="index.html" class="back-link">‚Üê Back to MathBored</a>
        
        <div class="map-hero">
            <h1>üìä MAP Math Prep</h1>
            <p>Endless practice questions to prepare for MAP Growth assessments</p>
        </div>
        
        <!-- Stats Panel -->
        <div class="map-stats">
            <div class="map-stat">
                <span class="map-stat-value" id="totalAnswered">0</span>
                <span class="map-stat-label">Answered</span>
            </div>
            <div class="map-stat">
                <span class="map-stat-value streak" id="currentStreak">0</span>
                <span class="map-stat-label">Streak üî•</span>
            </div>
            <div class="map-stat">
                <span class="map-stat-value accuracy" id="accuracy">--%</span>
                <span class="map-stat-label">Accuracy</span>
            </div>
            <div class="map-stat">
                <span class="map-stat-value" id="bestStreak">0</span>
                <span class="map-stat-label">Best Streak</span>
            </div>
        </div>
        
        <!-- Session Progress -->
        <div class="session-progress">
            <span class="progress-label">Session Progress</span>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progressBar" style="width: 0%"></div>
            </div>
            <span class="progress-count" id="progressCount">0 / 50</span>
        </div>

        <!-- Daily Goal & Day Streak -->
        <div class="daily-goal-bar">
            <span class="daily-goal-label">üéØ Today's Goal</span>
            <div class="progress-bar-container" style="flex:1;min-width:80px;">
                <div class="progress-bar-fill goal-fill" id="dailyProgressBar" style="width: 0%"></div>
            </div>
            <span class="daily-goal-count" id="dailyGoalCount">0 / 10</span>
            <span class="day-streak-badge" id="dayStreakBadge">üóìÔ∏è 0 day streak</span>
        </div>

        <!-- Weak Mode Banner (hidden until weak area mode active) -->
        <div class="weak-mode-banner" id="weakModeBanner" style="display:none">
            <span>üéØ Weak Area Mode ‚Äî practicing your missed questions</span>
            <button onclick="mapPrep.stopWeakAreaMode()">‚úï Exit</button>
        </div>

        <!-- Weak Areas Panel -->
        <div class="weak-areas-panel" id="weakAreasPanel">
            <div class="weak-areas-header" onclick="mapPrep.toggleWeakAreas()">
                <span>üìâ Weak Areas <span id="weakAreasSummary" style="font-weight:400;color:var(--text-secondary);font-size:0.85rem;margin-left:6px;"></span></span>
                <span class="weak-toggle-icon" id="weakToggleIcon">‚ñº</span>
            </div>
            <div class="weak-areas-body" id="weakAreasBody" style="display:none">
                <div id="topicBreakdown"></div>
                <div class="weak-area-actions">
                    <button class="btn-weak-mode" onclick="mapPrep.startWeakAreaMode()">üéØ Practice Weak Areas</button>
                    <button class="btn-clear-history" onclick="mapPrep.clearHistory()">üóëÔ∏è Reset History</button>
                </div>
                <div class="missed-list" id="missedList"></div>
            </div>
        </div>

        <!-- Question Card -->
        <div class="map-question-card" id="questionCard">
            <div class="question-meta">
                <span class="question-number" id="questionNumber">Question 1</span>
                <span class="difficulty-badge difficulty-medium" id="difficultyBadge">Medium</span>
            </div>
            
            <div class="question-text" id="questionText">Loading question...</div>
            
            <div class="answer-options" id="answerOptions">
                <!-- Answer options will be inserted here -->
            </div>
            
            <div class="hint-section">
                <button class="hint-toggle" id="hintToggle" onclick="mapPrep.toggleHint()">
                    üí° Show Hint
                </button>
                <div class="hint-content" id="hintContent"></div>
            </div>
            
            <div class="feedback-message" id="feedbackMessage"></div>
            
            <div class="action-buttons">
                <button class="btn-skip" onclick="mapPrep.skipQuestion()">Skip ‚Üí</button>
                <button class="btn-next" id="nextBtn" onclick="mapPrep.nextQuestion()" disabled>
                    Next Question ‚Üí
                </button>
            </div>
        </div>
    </div>
    
    <!-- Streak Popup -->
    <div class="streak-popup" id="streakPopup">üî• Streak!</div>

    <footer>
        <div class="container">
            <p>MathBored @ math.boredgames.site ‚Ä¢ Free forever ‚Ä¢ No logins, no limits, just learning</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                <a href="index.html" style="color: var(--accent); text-decoration: none;">üè† Home</a>
                ‚Ä¢
                <a href="olympiad.html" style="color: var(--accent); text-decoration: none;">üìê Daily Math Olympiad</a>
                ‚Ä¢
                <a href="competitions.html" style="color: var(--accent); text-decoration: none;">üèÜ Math Competitions</a>
            </p>
        </div>
    </footer>

    <script src="feature-flags.js"></script>
    <script src="growth-engine.js" defer></script>
    <script>
    // ============================================
    // MAP MATH QUESTIONS DATA
    // ============================================
    const MAP_MATH_QUESTIONS = [
        {
            id: 'm1',
            difficulty: 'easy',
            question: "A basket contains 6 red apples and 10 green apples. What is the **ratio** of red apples to **total apples**?",
            answerOptions: [
                { text: "6:10", isCorrect: false },
                { text: "10:16", isCorrect: false },
                { text: "6:16", isCorrect: true },
                { text: "16:6", isCorrect: false }
            ],
            hint: "First, find the total number of apples in the basket."
        },
        {
            id: 'm2',
            difficulty: 'easy',
            question: "A car travels 180 miles on 6 gallons of gas. What is the **unit rate** in miles per gallon?",
            answerOptions: [
                { text: "30 miles per gallon", isCorrect: true },
                { text: "6 miles per gallon", isCorrect: false },
                { text: "180 miles per gallon", isCorrect: false },
                { text: "0.03 miles per gallon", isCorrect: false }
            ],
            hint: "Unit rate means 'how many miles for 1 gallon?' You need to divide."
        },
        {
            id: 'm3',
            difficulty: 'easy',
            question: "What is 25% of 60?",
            answerOptions: [
                { text: "15", isCorrect: true },
                { text: "20", isCorrect: false },
                { text: "25", isCorrect: false },
                { text: "4", isCorrect: false }
            ],
            hint: "25% is the same as the fraction 1/4. What is 1/4 of 60?"
        },
        {
            id: 'm4',
            difficulty: 'medium',
            question: "Solve: 3/4 √∑ 1/2 = ?",
            answerOptions: [
                { text: "3/8", isCorrect: false },
                { text: "4/6", isCorrect: false },
                { text: "2/3", isCorrect: false },
                { text: "3/2 or 1¬Ω", isCorrect: true }
            ],
            hint: "To divide fractions, remember to 'keep, change, flip.' Multiply the first fraction by the reciprocal of the second."
        },
        {
            id: 'm5',
            difficulty: 'medium',
            question: "A recipe for one batch of cookies requires 1¬Ω cups of flour. How many cups of flour are needed to make 3 batches?",
            answerOptions: [
                { text: "2¬Ω cups", isCorrect: false },
                { text: "3 cups", isCorrect: false },
                { text: "4¬Ω cups", isCorrect: true },
                { text: "5 cups", isCorrect: false }
            ],
            hint: "You need to multiply the amount for one batch (1¬Ω) by 3."
        },
        {
            id: 'm6',
            difficulty: 'medium',
            question: "What is the result of 5.2 √ó 0.4?",
            answerOptions: [
                { text: "20.8", isCorrect: false },
                { text: "2.08", isCorrect: true },
                { text: "0.208", isCorrect: false },
                { text: "208", isCorrect: false }
            ],
            hint: "Multiply 52 √ó 4 first. Then, count the total number of decimal places in the original numbers to place the decimal in the answer."
        },
        {
            id: 'm7',
            difficulty: 'easy',
            question: "What is the **Greatest Common Factor (GCF)** of 12 and 18?",
            answerOptions: [
                { text: "3", isCorrect: false },
                { text: "6", isCorrect: true },
                { text: "12", isCorrect: false },
                { text: "36", isCorrect: false }
            ],
            hint: "List the factors of 12 (numbers that divide into it) and the factors of 18. Find the largest number that is in both lists."
        },
        {
            id: 'm8',
            difficulty: 'easy',
            question: "Which of the following numbers has the greatest **absolute value**?",
            answerOptions: [
                { text: "-10", isCorrect: true },
                { text: "7", isCorrect: false },
                { text: "-3", isCorrect: false },
                { text: "0", isCorrect: false }
            ],
            hint: "Absolute value is a number's distance from zero on a number line. It is always a positive value."
        },
        {
            id: 'm9',
            difficulty: 'medium',
            question: "A point is located at (-4, 5) on a coordinate plane. In which quadrant is the point located?",
            answerOptions: [
                { text: "Quadrant I", isCorrect: false },
                { text: "Quadrant II", isCorrect: true },
                { text: "Quadrant III", isCorrect: false },
                { text: "Quadrant IV", isCorrect: false }
            ],
            hint: "The order is (x, y). Quadrant I is (+,+). Quadrant II is (-,+). Quadrant III is (-,-). Quadrant IV is (+,-)."
        },
        {
            id: 'm10',
            difficulty: 'easy',
            question: "Evaluate the expression: 4¬≤ + (10 - 5)",
            answerOptions: [
                { text: "13", isCorrect: false },
                { text: "21", isCorrect: true },
                { text: "26", isCorrect: false },
                { text: "11", isCorrect: false }
            ],
            hint: "Follow the order of operations (PEMDAS/BODMAS). Exponents and Parentheses first, then Addition."
        },
        {
            id: 'm11',
            difficulty: 'medium',
            question: "Which expression is **equivalent** to 3(x + 5)?",
            answerOptions: [
                { text: "3x + 5", isCorrect: false },
                { text: "x + 15", isCorrect: false },
                { text: "8x", isCorrect: false },
                { text: "3x + 15", isCorrect: true }
            ],
            hint: "Use the distributive property. Multiply the number outside the parentheses by *each* term inside."
        },
        {
            id: 'm12',
            difficulty: 'medium',
            question: "Which of these is a **statistical question**?",
            answerOptions: [
                { text: "How tall is the principal of your school?", isCorrect: false },
                { text: "What is the favorite subject of the students in your class?", isCorrect: true },
                { text: "How many states are in the United States?", isCorrect: false },
                { text: "What time does your school start?", isCorrect: false }
            ],
            hint: "A statistical question is one that can have many different answers."
        },
        {
            id: 'm13',
            difficulty: 'easy',
            question: "What is the **mean** (average) of the following data set: 5, 10, 3, 8, 4",
            answerOptions: [
                { text: "5", isCorrect: false },
                { text: "6", isCorrect: true },
                { text: "7", isCorrect: false },
                { text: "30", isCorrect: false }
            ],
            hint: "To find the mean, add all the numbers together and then divide by how many numbers are in the set."
        },
        {
            id: 'm14',
            difficulty: 'medium',
            question: "What is the **median** of the following data set: 10, 4, 8, 6, 4, 3",
            answerOptions: [
                { text: "4", isCorrect: false },
                { text: "5", isCorrect: true },
                { text: "6", isCorrect: false },
                { text: "6.83", isCorrect: false }
            ],
            hint: "First, put the numbers in order from least to greatest. Then, find the middle number."
        },
        {
            id: 'm15',
            difficulty: 'easy',
            question: "What is the **area** of a triangle with a base of 8 inches and a height of 6 inches?",
            answerOptions: [
                { text: "14 in¬≤", isCorrect: false },
                { text: "24 in¬≤", isCorrect: true },
                { text: "28 in¬≤", isCorrect: false },
                { text: "48 in¬≤", isCorrect: false }
            ],
            hint: "The formula for the area of a triangle is ¬Ω √ó base √ó height."
        },
        {
            id: 'm16',
            difficulty: 'easy',
            question: "A box is 5 feet long, 4 feet wide, and 3 feet high. What is its **volume**?",
            answerOptions: [
                { text: "12 ft¬≥", isCorrect: false },
                { text: "20 ft¬≥", isCorrect: false },
                { text: "60 ft¬≥", isCorrect: true },
                { text: "94 ft¬≤", isCorrect: false }
            ],
            hint: "Volume of a rectangular prism is length √ó width √ó height."
        },
        {
            id: 'm17',
            difficulty: 'medium',
            question: "Which algebraic expression represents the phrase 'a number, n, decreased by 7'?",
            answerOptions: [
                { text: "7 - n", isCorrect: false },
                { text: "n + 7", isCorrect: false },
                { text: "n/7", isCorrect: false },
                { text: "n - 7", isCorrect: true }
            ],
            hint: "'Decreased by' means you are subtracting from the number that came first."
        },
        {
            id: 'm18',
            difficulty: 'easy',
            question: "Solve the equation for x: x + 9 = 22",
            answerOptions: [
                { text: "x = 31", isCorrect: false },
                { text: "x = 13", isCorrect: true },
                { text: "x = 2.4", isCorrect: false },
                { text: "x = 198", isCorrect: false }
            ],
            hint: "To get x by itself, you must do the opposite of adding 9 to both sides."
        },
        {
            id: 'm19',
            difficulty: 'easy',
            question: "Solve the equation for y: 4y = 36",
            answerOptions: [
                { text: "y = 32", isCorrect: false },
                { text: "y = 40", isCorrect: false },
                { text: "y = 9", isCorrect: true },
                { text: "y = 144", isCorrect: false }
            ],
            hint: "4y means 4 √ó y. To get y by itself, do the opposite of multiplying by 4."
        },
        {
            id: 'm20',
            difficulty: 'medium',
            question: "Which inequality represents the statement 'You must be at least 12 years old to ride the roller coaster' (where a = age)?",
            answerOptions: [
                { text: "a < 12", isCorrect: false },
                { text: "a > 12", isCorrect: false },
                { text: "a ‚â§ 12", isCorrect: false },
                { text: "a ‚â• 12", isCorrect: true }
            ],
            hint: "'At least' means that number or higher. The symbol must include 'equal to.'"
        },
        {
            id: 'm21',
            difficulty: 'medium',
            question: "What is the **Least Common Multiple (LCM)** of 6 and 8?",
            answerOptions: [
                { text: "2", isCorrect: false },
                { text: "14", isCorrect: false },
                { text: "24", isCorrect: true },
                { text: "48", isCorrect: false }
            ],
            hint: "List the multiples of 6 (6, 12, 18...) and the multiples of 8 (8, 16, 24...). What is the smallest number in both lists?"
        },
        {
            id: 'm22',
            difficulty: 'easy',
            question: "What is the **range** of the following data set: 15, 8, 22, 10, 19",
            answerOptions: [
                { text: "14", isCorrect: true },
                { text: "15", isCorrect: false },
                { text: "22", isCorrect: false },
                { text: "14.8", isCorrect: false }
            ],
            hint: "Range is the 'distance' between the highest number and the lowest number in the set. (Highest - Lowest)."
        },
        {
            id: 'm23',
            difficulty: 'easy',
            question: "A pizza is cut into 8 equal slices. If you eat 2 slices, what **percentage** of the pizza did you eat?",
            answerOptions: [
                { text: "20%", isCorrect: false },
                { text: "25%", isCorrect: true },
                { text: "40%", isCorrect: false },
                { text: "50%", isCorrect: false }
            ],
            hint: "First, write the amount you ate as a fraction: 2/8. Then, simplify the fraction and convert it to a percentage."
        },
        {
            id: 'm24',
            difficulty: 'medium',
            question: "The coordinates of a rectangle are (1, 1), (1, 4), (5, 4), and (5, 1). What is the **length** of the side connecting (1, 1) and (5, 1)?",
            answerOptions: [
                { text: "3 units", isCorrect: false },
                { text: "4 units", isCorrect: true },
                { text: "5 units", isCorrect: false },
                { text: "1 unit", isCorrect: false }
            ],
            hint: "The points are (1, 1) and (5, 1). Since the y-values are the same, find the distance between the x-values."
        },
        {
            id: 'm25',
            difficulty: 'medium',
            question: "What is the **surface area** of a cube with all side lengths of 4 cm?",
            answerOptions: [
                { text: "16 cm¬≤", isCorrect: false },
                { text: "64 cm¬≥", isCorrect: false },
                { text: "96 cm¬≤", isCorrect: true },
                { text: "24 cm¬≤", isCorrect: false }
            ],
            hint: "Find the area of *one* square face, then multiply that by the total number of faces on a cube."
        },
        {
            id: 'm26',
            difficulty: 'medium',
            question: "What is 30% of 80?",
            answerOptions: [
                { text: "16", isCorrect: false },
                { text: "24", isCorrect: true },
                { text: "30", isCorrect: false },
                { text: "48", isCorrect: false }
            ],
            hint: "30% is the same as 0.30. Multiply 80 by 0.30."
        },
        {
            id: 'm27',
            difficulty: 'medium',
            question: "A recipe calls for 2¬æ cups of flour. If you want to make ¬Ω of the recipe, how many cups of flour do you need?",
            answerOptions: [
                { text: "1‚Öú cups", isCorrect: true },
                { text: "2¬º cups", isCorrect: false },
                { text: "2 cups", isCorrect: false },
                { text: "5¬Ω cups", isCorrect: false }
            ],
            hint: "You need to multiply 2¬æ by ¬Ω. First convert 2¬æ to an improper fraction (11/4), then multiply by ¬Ω."
        },
        {
            id: 'm28',
            difficulty: 'hard',
            question: "Solve for x: 3x + 7 = 22",
            answerOptions: [
                { text: "x = 3", isCorrect: false },
                { text: "x = 5", isCorrect: true },
                { text: "x = 7", isCorrect: false },
                { text: "x = 15", isCorrect: false }
            ],
            hint: "First subtract 7 from both sides, then divide by 3."
        },
        {
            id: 'm29',
            difficulty: 'easy',
            question: "What is the perimeter of a rectangle that is 8 cm long and 5 cm wide?",
            answerOptions: [
                { text: "13 cm", isCorrect: false },
                { text: "26 cm", isCorrect: true },
                { text: "40 cm", isCorrect: false },
                { text: "20 cm", isCorrect: false }
            ],
            hint: "Perimeter = 2(length + width). Add the length and width, then multiply by 2."
        },
        {
            id: 'm30',
            difficulty: 'medium',
            question: "Which fraction is **equivalent** to 0.625?",
            answerOptions: [
                { text: "3/5", isCorrect: false },
                { text: "5/8", isCorrect: true },
                { text: "7/10", isCorrect: false },
                { text: "6/7", isCorrect: false }
            ],
            hint: "Convert each fraction to a decimal and see which one equals 0.625. Or divide 5 by 8."
        },
        {
            id: 'm31',
            difficulty: 'hard',
            question: "A triangle has angles measuring 45¬∞, 60¬∞, and 75¬∞. What type of triangle is this?",
            answerOptions: [
                { text: "Right triangle", isCorrect: false },
                { text: "Equilateral triangle", isCorrect: false },
                { text: "Isosceles triangle", isCorrect: false },
                { text: "Acute triangle", isCorrect: true }
            ],
            hint: "All three angles are less than 90¬∞, so this is an acute triangle."
        },
        {
            id: 'm32',
            difficulty: 'medium',
            question: "What is the value of 8¬≤ √ó 2?",
            answerOptions: [
                { text: "64", isCorrect: false },
                { text: "128", isCorrect: true },
                { text: "16", isCorrect: false },
                { text: "256", isCorrect: false }
            ],
            hint: "First calculate 8¬≤ (which is 64), then multiply by 2."
        },
        {
            id: 'm33',
            difficulty: 'easy',
            question: "If a bag contains 3 red marbles and 5 blue marbles, what is the probability of drawing a red marble?",
            answerOptions: [
                { text: "3/5", isCorrect: false },
                { text: "3/8", isCorrect: true },
                { text: "5/8", isCorrect: false },
                { text: "5/3", isCorrect: false }
            ],
            hint: "Probability = favorable outcomes / total outcomes. There are 3 red marbles out of 8 total marbles."
        },
        {
            id: 'm34',
            difficulty: 'hard',
            question: "Solve for y: 2y - 5 = 3y + 7",
            answerOptions: [
                { text: "y = 2", isCorrect: false },
                { text: "y = -2", isCorrect: false },
                { text: "y = -12", isCorrect: true },
                { text: "y = 12", isCorrect: false }
            ],
            hint: "First get all y terms on one side and all constants on the other. Subtract 3y from both sides, then add 5 to both sides."
        },
        {
            id: 'm35',
            difficulty: 'medium',
            question: "What is the area of a circle with a radius of 6 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "18.84 in¬≤", isCorrect: false },
                { text: "37.68 in¬≤", isCorrect: false },
                { text: "113.04 in¬≤", isCorrect: true },
                { text: "226.08 in¬≤", isCorrect: false }
            ],
            hint: "Area of a circle = œÄ √ó r¬≤. Square the radius (36), then multiply by œÄ (3.14)."
        },
        {
            id: 'm36',
            difficulty: 'medium',
            question: "What is the mode of this data set: 3, 5, 7, 5, 8, 5, 2?",
            answerOptions: [
                { text: "3", isCorrect: false },
                { text: "5", isCorrect: true },
                { text: "7", isCorrect: false },
                { text: "8", isCorrect: false }
            ],
            hint: "The mode is the number that appears most frequently in the data set."
        },
        {
            id: 'm37',
            difficulty: 'easy',
            question: "What is ¬æ of 32?",
            answerOptions: [
                { text: "8", isCorrect: false },
                { text: "24", isCorrect: true },
                { text: "28", isCorrect: false },
                { text: "42", isCorrect: false }
            ],
            hint: "Multiply 32 by ¬æ. Or find ¬º of 32 (which is 8), then multiply by 3."
        },
        {
            id: 'm38',
            difficulty: 'hard',
            question: "Which expression is equivalent to 5(x + 3) - 2x?",
            answerOptions: [
                { text: "3x + 3", isCorrect: false },
                { text: "3x + 15", isCorrect: true },
                { text: "7x + 3", isCorrect: false },
                { text: "7x + 15", isCorrect: false }
            ],
            hint: "Distribute the 5: 5(x + 3) = 5x + 15. Then subtract 2x to get 3x + 15."
        },
        {
            id: 'm39',
            difficulty: 'medium',
            question: "What is 0.6 expressed as a fraction in simplest form?",
            answerOptions: [
                { text: "3/5", isCorrect: true },
                { text: "6/10", isCorrect: false },
                { text: "1/6", isCorrect: false },
                { text: "2/3", isCorrect: false }
            ],
            hint: "0.6 = 6/10. Simplify by dividing both numerator and denominator by 2."
        },
        {
            id: 'm40',
            difficulty: 'medium',
            question: "A right triangle has legs measuring 6 inches and 8 inches. What is the length of the hypotenuse?",
            answerOptions: [
                { text: "10 inches", isCorrect: true },
                { text: "14 inches", isCorrect: false },
                { text: "48 inches", isCorrect: false },
                { text: "100 inches", isCorrect: false }
            ],
            hint: "Use the Pythagorean theorem: a¬≤ + b¬≤ = c¬≤. Then take the square root."
        },
        {
            id: 'm41',
            difficulty: 'easy',
            question: "What is the next number in the pattern: 2, 5, 8, 11, __?",
            answerOptions: [
                { text: "13", isCorrect: false },
                { text: "14", isCorrect: true },
                { text: "15", isCorrect: false },
                { text: "16", isCorrect: false }
            ],
            hint: "Look at the difference between consecutive numbers."
        },
        {
            id: 'm42',
            difficulty: 'hard',
            question: "What is the Least Common Multiple (LCM) of 4, 6, and 10?",
            answerOptions: [
                { text: "12", isCorrect: false },
                { text: "20", isCorrect: false },
                { text: "60", isCorrect: true },
                { text: "120", isCorrect: false }
            ],
            hint: "Find multiples of 4, 6, and 10. What's the smallest number that appears in all three lists?"
        },
        {
            id: 'm43',
            difficulty: 'medium',
            question: "What is the circumference of a circle with a diameter of 10 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "15.7 inches", isCorrect: false },
                { text: "31.4 inches", isCorrect: true },
                { text: "78.5 inches", isCorrect: false },
                { text: "314 inches", isCorrect: false }
            ],
            hint: "Circumference = œÄ √ó diameter. Multiply 10 by œÄ (3.14)."
        },
        {
            id: 'm44',
            difficulty: 'easy',
            question: "What is 1.25 √ó 4?",
            answerOptions: [
                { text: "4.25", isCorrect: false },
                { text: "5", isCorrect: true },
                { text: "5.25", isCorrect: false },
                { text: "8", isCorrect: false }
            ],
            hint: "Multiply 1.25 by 4, or think of 1.25 as 5/4 (so 5/4 √ó 4 = 5)."
        },
        {
            id: 'm45',
            difficulty: 'hard',
            question: "Solve: (12 - 5) √ó 2 √∑ 7",
            answerOptions: [
                { text: "2", isCorrect: true },
                { text: "4", isCorrect: false },
                { text: "6", isCorrect: false },
                { text: "14", isCorrect: false }
            ],
            hint: "Follow order of operations: parentheses first (12 - 5 = 7), then multiply (7 √ó 2 = 14), then divide (14 √∑ 7 = 2)."
        },
        {
            id: 'm46',
            difficulty: 'medium',
            question: "A store offers 20% off all items. If a jacket originally costs $50, what is the sale price?",
            answerOptions: [
                { text: "$10", isCorrect: false },
                { text: "$30", isCorrect: false },
                { text: "$40", isCorrect: true },
                { text: "$45", isCorrect: false }
            ],
            hint: "Find 20% of $50 (which is $10), then subtract from the original price."
        },
        {
            id: 'm47',
            difficulty: 'medium',
            question: "What is the volume of a rectangular prism that is 6 cm long, 4 cm wide, and 3 cm tall?",
            answerOptions: [
                { text: "13 cm¬≥", isCorrect: false },
                { text: "72 cm¬≥", isCorrect: true },
                { text: "108 cm¬≥", isCorrect: false },
                { text: "48 cm¬≥", isCorrect: false }
            ],
            hint: "Volume = length √ó width √ó height. Multiply all three dimensions."
        },
        {
            id: 'm48',
            difficulty: 'easy',
            question: "What is 5/6 √ó 3/10?",
            answerOptions: [
                { text: "1/4", isCorrect: true },
                { text: "8/16", isCorrect: false },
                { text: "1/2", isCorrect: false },
                { text: "15/60", isCorrect: false }
            ],
            hint: "Multiply the numerators (5 √ó 3 = 15) and denominators (6 √ó 10 = 60), then simplify the fraction."
        },
        {
            id: 'm49',
            difficulty: 'medium',
            question: "A recipe calls for 2/3 cup of sugar. If you want to make 1¬Ω times the recipe, how much sugar do you need?",
            answerOptions: [
                { text: "1 cup", isCorrect: true },
                { text: "3/4 cup", isCorrect: false },
                { text: "1‚Öì cups", isCorrect: false },
                { text: "2 cups", isCorrect: false }
            ],
            hint: "Multiply 2/3 by 1¬Ω (or 3/2). Remember: 2/3 √ó 3/2 = 6/6 = 1."
        },
        {
            id: 'm50',
            difficulty: 'hard',
            question: "What is the value of x in the equation: 4(2x + 3) = 36?",
            answerOptions: [
                { text: "x = 2", isCorrect: false },
                { text: "x = 3", isCorrect: true },
                { text: "x = 4", isCorrect: false },
                { text: "x = 6", isCorrect: false }
            ],
            hint: "First distribute the 4: 8x + 12 = 36. Then subtract 12 from both sides, and divide by 8."
        },
        {
            id: 'm51',
            difficulty: 'medium',
            question: "What is the **slope** of a line that passes through points (2, 3) and (6, 11)?",
            answerOptions: [
                { text: "2", isCorrect: true },
                { text: "1/2", isCorrect: false },
                { text: "4", isCorrect: false },
                { text: "8", isCorrect: false }
            ],
            hint: "Slope = (y‚ÇÇ - y‚ÇÅ) / (x‚ÇÇ - x‚ÇÅ). Calculate the change in y divided by the change in x."
        },
        {
            id: 'm52',
            difficulty: 'hard',
            question: "If a number is increased by 25% and then decreased by 20%, what is the net percentage change?",
            answerOptions: [
                { text: "5% increase", isCorrect: false },
                { text: "0% (no change)", isCorrect: true },
                { text: "5% decrease", isCorrect: false },
                { text: "45% increase", isCorrect: false }
            ],
            hint: "Try with a specific number like 100. Increase by 25% to get 125, then decrease by 20% of 125."
        },
        {
            id: 'm53',
            difficulty: 'easy',
            question: "What is the **prime factorization** of 36?",
            answerOptions: [
                { text: "2 √ó 18", isCorrect: false },
                { text: "2¬≤ √ó 3¬≤", isCorrect: true },
                { text: "4 √ó 9", isCorrect: false },
                { text: "6 √ó 6", isCorrect: false }
            ],
            hint: "Break down 36 into its prime factors. Start with 2: 36 = 2 √ó 18, then continue factoring."
        },
        {
            id: 'm54',
            difficulty: 'medium',
            question: "A cylinder has a radius of 5 cm and a height of 8 cm. What is its **volume**? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "125.6 cm¬≥", isCorrect: false },
                { text: "628 cm¬≥", isCorrect: true },
                { text: "251.2 cm¬≥", isCorrect: false },
                { text: "1,256 cm¬≥", isCorrect: false }
            ],
            hint: "Volume of a cylinder = œÄ √ó r¬≤ √ó h. Square the radius first (5¬≤ = 25), then multiply by œÄ and height."
        },
        {
            id: 'm55',
            difficulty: 'hard',
            question: "Solve the system of equations:\n\nx + y = 10\n2x - y = 5",
            answerOptions: [
                { text: "x = 3, y = 7", isCorrect: false },
                { text: "x = 5, y = 5", isCorrect: true },
                { text: "x = 7, y = 3", isCorrect: false },
                { text: "x = 4, y = 6", isCorrect: false }
            ],
            hint: "Add the two equations together to eliminate y. Then solve for x, and substitute back to find y."
        },
        {
            id: 'm56',
            difficulty: 'medium',
            question: "What is the **surface area** of a rectangular prism with length 6 cm, width 4 cm, and height 5 cm?",
            answerOptions: [
                { text: "120 cm¬≤", isCorrect: false },
                { text: "148 cm¬≤", isCorrect: true },
                { text: "60 cm¬≤", isCorrect: false },
                { text: "74 cm¬≤", isCorrect: false }
            ],
            hint: "Surface area = 2(lw + lh + wh). Calculate the area of each pair of opposite faces and add them all together."
        },
        {
            id: 'm57',
            difficulty: 'easy',
            question: "Which number is **irrational**?",
            answerOptions: [
                { text: "0.5", isCorrect: false },
                { text: "‚àö9", isCorrect: false },
                { text: "‚àö2", isCorrect: true },
                { text: "3/4", isCorrect: false }
            ],
            hint: "An irrational number cannot be expressed as a simple fraction. It has a decimal that goes on forever without repeating."
        },
        {
            id: 'm58',
            difficulty: 'hard',
            question: "What is the **domain** of the function f(x) = ‚àö(x - 3)?",
            answerOptions: [
                { text: "x ‚â• 0", isCorrect: false },
                { text: "x ‚â• 3", isCorrect: true },
                { text: "x > 3", isCorrect: false },
                { text: "All real numbers", isCorrect: false }
            ],
            hint: "The expression under the square root must be greater than or equal to zero. Set x - 3 ‚â• 0 and solve."
        },
        {
            id: 'm59',
            difficulty: 'medium',
            question: "A triangle has side lengths of 7, 9, and 12. What type of triangle is this?",
            answerOptions: [
                { text: "Equilateral", isCorrect: false },
                { text: "Isosceles", isCorrect: false },
                { text: "Scalene", isCorrect: true },
                { text: "Right", isCorrect: false }
            ],
            hint: "A scalene triangle has all three sides of different lengths. Check if 7¬≤ + 9¬≤ = 12¬≤ for a right triangle."
        },
        {
            id: 'm60',
            difficulty: 'medium',
            question: "What is the **interquartile range (IQR)** of the data set: 5, 8, 10, 12, 15, 18, 20?",
            answerOptions: [
                { text: "10", isCorrect: true },
                { text: "15", isCorrect: false },
                { text: "12", isCorrect: false },
                { text: "8", isCorrect: false }
            ],
            hint: "IQR = Q‚ÇÉ - Q‚ÇÅ. Find the median (Q‚ÇÇ), then find the median of the lower half (Q‚ÇÅ) and upper half (Q‚ÇÉ)."
        },
        {
            id: 'm61',
            difficulty: 'easy',
            question: "What is 2¬≥ √ó 2¬≤?",
            answerOptions: [
                { text: "2‚Åµ", isCorrect: true },
                { text: "2‚Å∂", isCorrect: false },
                { text: "4‚Åµ", isCorrect: false },
                { text: "2¬π", isCorrect: false }
            ],
            hint: "When multiplying powers with the same base, add the exponents: 2¬≥ √ó 2¬≤ = 2¬≥‚Å∫¬≤ = 2‚Åµ."
        },
        {
            id: 'm62',
            difficulty: 'medium',
            question: "What is ‚àö144?",
            answerOptions: [
                { text: "12", isCorrect: true },
                { text: "72", isCorrect: false },
                { text: "14", isCorrect: false },
                { text: "24", isCorrect: false }
            ],
            hint: "The square root of a number is what number, when multiplied by itself, equals that number. What times itself equals 144?"
        },
        {
            id: 'm63',
            difficulty: 'hard',
            question: "Simplify: (3x¬≤y)(4xy¬≥)",
            answerOptions: [
                { text: "12x¬≥y‚Å¥", isCorrect: true },
                { text: "7x¬≥y‚Å¥", isCorrect: false },
                { text: "12x¬≤y¬≥", isCorrect: false },
                { text: "7x¬≤y¬≥", isCorrect: false }
            ],
            hint: "Multiply the coefficients (3 √ó 4 = 12), then add the exponents for like variables: x¬≤ √ó x = x¬≥, y √ó y¬≥ = y‚Å¥."
        },
        {
            id: 'm64',
            difficulty: 'easy',
            question: "What is 15% of 200?",
            answerOptions: [
                { text: "15", isCorrect: false },
                { text: "30", isCorrect: true },
                { text: "45", isCorrect: false },
                { text: "60", isCorrect: false }
            ],
            hint: "15% means 15 out of 100, or 0.15. Multiply 200 by 0.15, or find 10% (20) and add half of that (10)."
        },
        {
            id: 'm65',
            difficulty: 'medium',
            question: "A map has a scale of 1 inch = 50 miles. If two cities are 3.5 inches apart on the map, how far apart are they in real life?",
            answerOptions: [
                { text: "150 miles", isCorrect: false },
                { text: "175 miles", isCorrect: true },
                { text: "200 miles", isCorrect: false },
                { text: "350 miles", isCorrect: false }
            ],
            hint: "Set up a proportion: 1 inch / 50 miles = 3.5 inches / x miles. Cross multiply and solve."
        },
        {
            id: 'm66',
            difficulty: 'hard',
            question: "What is the **y-intercept** of the line with equation y = 3x - 7?",
            answerOptions: [
                { text: "3", isCorrect: false },
                { text: "-7", isCorrect: true },
                { text: "7", isCorrect: false },
                { text: "-3", isCorrect: false }
            ],
            hint: "In the form y = mx + b, b is the y-intercept. This is the point where the line crosses the y-axis (when x = 0)."
        },
        {
            id: 'm67',
            difficulty: 'easy',
            question: "What is the **complement** of a 35¬∞ angle?",
            answerOptions: [
                { text: "45¬∞", isCorrect: false },
                { text: "55¬∞", isCorrect: true },
                { text: "145¬∞", isCorrect: false },
                { text: "90¬∞", isCorrect: false }
            ],
            hint: "Complementary angles add up to 90¬∞. Subtract 35¬∞ from 90¬∞ to find the complement."
        },
        {
            id: 'm68',
            difficulty: 'medium',
            question: "What is the **supplement** of a 120¬∞ angle?",
            answerOptions: [
                { text: "60¬∞", isCorrect: true },
                { text: "80¬∞", isCorrect: false },
                { text: "240¬∞", isCorrect: false },
                { text: "30¬∞", isCorrect: false }
            ],
            hint: "Supplementary angles add up to 180¬∞. Subtract 120¬∞ from 180¬∞ to find the supplement."
        },
        {
            id: 'm69',
            difficulty: 'hard',
            question: "If f(x) = 2x + 5, what is f(3)?",
            answerOptions: [
                { text: "11", isCorrect: true },
                { text: "13", isCorrect: false },
                { text: "15", isCorrect: false },
                { text: "21", isCorrect: false }
            ],
            hint: "Substitute 3 for x in the function: f(3) = 2(3) + 5 = 6 + 5 = 11."
        },
        {
            id: 'm70',
            difficulty: 'medium',
            question: "What is the **area** of a circle with a diameter of 10 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "31.4 in¬≤", isCorrect: false },
                { text: "78.5 in¬≤", isCorrect: true },
                { text: "314 in¬≤", isCorrect: false },
                { text: "157 in¬≤", isCorrect: false }
            ],
            hint: "If the diameter is 10, the radius is 5. Area = œÄ √ó r¬≤. Square the radius (25), then multiply by œÄ."
        },
        {
            id: 'm71',
            difficulty: 'easy',
            question: "What is the next number in the pattern: 3, 6, 12, 24, __?",
            answerOptions: [
                { text: "30", isCorrect: false },
                { text: "36", isCorrect: false },
                { text: "48", isCorrect: true },
                { text: "72", isCorrect: false }
            ],
            hint: "Each number is multiplied by 2 to get the next number. 24 √ó 2 = 48."
        },
        {
            id: 'm72',
            difficulty: 'medium',
            question: "A bag contains 4 red marbles, 3 blue marbles, and 5 green marbles. What is the probability of drawing a blue marble?",
            answerOptions: [
                { text: "1/3", isCorrect: false },
                { text: "1/4", isCorrect: true },
                { text: "3/12", isCorrect: false },
                { text: "1/5", isCorrect: false }
            ],
            hint: "Probability = favorable outcomes / total outcomes. There are 3 blue marbles out of 12 total marbles."
        },
        {
            id: 'm73',
            difficulty: 'hard',
            question: "Solve for x: 2x + 5 < 15",
            answerOptions: [
                { text: "x < 5", isCorrect: true },
                { text: "x < 10", isCorrect: false },
                { text: "x > 5", isCorrect: false },
                { text: "x > 10", isCorrect: false }
            ],
            hint: "Subtract 5 from both sides: 2x < 10. Then divide both sides by 2: x < 5."
        },
        {
            id: 'm74',
            difficulty: 'easy',
            question: "What is 0.75 expressed as a fraction in simplest form?",
            answerOptions: [
                { text: "3/4", isCorrect: true },
                { text: "75/100", isCorrect: false },
                { text: "7/10", isCorrect: false },
                { text: "1/2", isCorrect: false }
            ],
            hint: "0.75 = 75/100. Simplify by dividing both numerator and denominator by 25."
        },
        {
            id: 'm75',
            difficulty: 'medium',
            question: "What is the **perimeter** of a square with an area of 64 cm¬≤?",
            answerOptions: [
                { text: "16 cm", isCorrect: false },
                { text: "32 cm", isCorrect: true },
                { text: "64 cm", isCorrect: false },
                { text: "8 cm", isCorrect: false }
            ],
            hint: "If the area is 64 cm¬≤, the side length is ‚àö64 = 8 cm. Perimeter of a square = 4 √ó side = 4 √ó 8 = 32 cm."
        },
        {
            id: 'm76',
            difficulty: 'hard',
            question: "What is the **range** of the function f(x) = x¬≤ + 3?",
            answerOptions: [
                { text: "All real numbers", isCorrect: false },
                { text: "y ‚â• 0", isCorrect: false },
                { text: "y ‚â• 3", isCorrect: true },
                { text: "y > 3", isCorrect: false }
            ],
            hint: "Since x¬≤ is always ‚â• 0, x¬≤ + 3 is always ‚â• 3. The range is all y-values greater than or equal to 3."
        },
        {
            id: 'm77',
            difficulty: 'easy',
            question: "What is 5/8 + 1/4?",
            answerOptions: [
                { text: "6/12", isCorrect: false },
                { text: "7/8", isCorrect: true },
                { text: "6/8", isCorrect: false },
                { text: "3/4", isCorrect: false }
            ],
            hint: "Find a common denominator. 1/4 = 2/8. Then add: 5/8 + 2/8 = 7/8."
        },
        {
            id: 'm78',
            difficulty: 'medium',
            question: "A triangle has angles measuring 30¬∞, 60¬∞, and 90¬∞. What type of triangle is this?",
            answerOptions: [
                { text: "Acute triangle", isCorrect: false },
                { text: "Right triangle", isCorrect: true },
                { text: "Obtuse triangle", isCorrect: false },
                { text: "Equilateral triangle", isCorrect: false }
            ],
            hint: "A triangle with a 90¬∞ angle is a right triangle. The 30-60-90 triangle is a special right triangle."
        },
        {
            id: 'm79',
            difficulty: 'hard',
            question: "What is the **slope-intercept form** of a line with slope 4 and y-intercept -3?",
            answerOptions: [
                { text: "y = 4x - 3", isCorrect: true },
                { text: "y = -3x + 4", isCorrect: false },
                { text: "y = 4x + 3", isCorrect: false },
                { text: "y = -4x - 3", isCorrect: false }
            ],
            hint: "Slope-intercept form is y = mx + b, where m is the slope and b is the y-intercept."
        },
        {
            id: 'm80',
            difficulty: 'easy',
            question: "What is 3.5 √ó 10¬≤ in standard form?",
            answerOptions: [
                { text: "350", isCorrect: true },
                { text: "3,500", isCorrect: false },
                { text: "35", isCorrect: false },
                { text: "0.35", isCorrect: false }
            ],
            hint: "3.5 √ó 10¬≤ means move the decimal point 2 places to the right: 3.5 ‚Üí 350."
        },
        {
            id: 'm81',
            difficulty: 'medium',
            question: "What is the **volume** of a sphere with a radius of 3 cm? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "28.26 cm¬≥", isCorrect: false },
                { text: "84.78 cm¬≥", isCorrect: false },
                { text: "113.04 cm¬≥", isCorrect: true },
                { text: "37.68 cm¬≥", isCorrect: false }
            ],
            hint: "Volume of a sphere = (4/3)œÄr¬≥. Cube the radius (27), multiply by 4/3, then by œÄ."
        },
        {
            id: 'm82',
            difficulty: 'hard',
            question: "Factor completely: x¬≤ - 9",
            answerOptions: [
                { text: "(x - 3)(x + 3)", isCorrect: true },
                { text: "(x - 9)(x + 1)", isCorrect: false },
                { text: "(x - 3)¬≤", isCorrect: false },
                { text: "x(x - 9)", isCorrect: false }
            ],
            hint: "This is a difference of squares: a¬≤ - b¬≤ = (a - b)(a + b). Here, x¬≤ - 9 = x¬≤ - 3¬≤."
        },
        {
            id: 'm83',
            difficulty: 'easy',
            question: "What is the **mode** of the data set: 5, 7, 5, 9, 7, 5, 3?",
            answerOptions: [
                { text: "5", isCorrect: true },
                { text: "7", isCorrect: false },
                { text: "9", isCorrect: false },
                { text: "6", isCorrect: false }
            ],
            hint: "The mode is the number that appears most frequently. Count how many times each number appears."
        },
        {
            id: 'm84',
            difficulty: 'medium',
            question: "What is 2/3 √∑ 4/5?",
            answerOptions: [
                { text: "8/15", isCorrect: false },
                { text: "5/6", isCorrect: true },
                { text: "6/8", isCorrect: false },
                { text: "10/12", isCorrect: false }
            ],
            hint: "To divide fractions, multiply by the reciprocal: 2/3 √∑ 4/5 = 2/3 √ó 5/4 = 10/12 = 5/6."
        },
        {
            id: 'm85',
            difficulty: 'hard',
            question: "What is the **vertex** of the parabola y = (x - 3)¬≤ + 5?",
            answerOptions: [
                { text: "(3, 5)", isCorrect: true },
                { text: "(-3, 5)", isCorrect: false },
                { text: "(3, -5)", isCorrect: false },
                { text: "(-3, -5)", isCorrect: false }
            ],
            hint: "In the form y = (x - h)¬≤ + k, the vertex is at (h, k). Notice the sign: (x - 3) means h = 3."
        },
        {
            id: 'm86',
            difficulty: 'easy',
            question: "What is 40% of 250?",
            answerOptions: [
                { text: "100", isCorrect: true },
                { text: "150", isCorrect: false },
                { text: "200", isCorrect: false },
                { text: "50", isCorrect: false }
            ],
            hint: "40% = 0.40. Multiply 250 by 0.40, or find 10% (25) and multiply by 4."
        },
        {
            id: 'm87',
            difficulty: 'medium',
            question: "A rectangle is 8 cm long and has a perimeter of 24 cm. What is its width?",
            answerOptions: [
                { text: "4 cm", isCorrect: true },
                { text: "6 cm", isCorrect: false },
                { text: "8 cm", isCorrect: false },
                { text: "16 cm", isCorrect: false }
            ],
            hint: "Perimeter = 2(length + width). So 24 = 2(8 + width). Divide both sides by 2, then subtract 8."
        },
        {
            id: 'm88',
            difficulty: 'hard',
            question: "What is the **discriminant** of the quadratic equation x¬≤ - 5x + 6 = 0?",
            answerOptions: [
                { text: "1", isCorrect: true },
                { text: "-1", isCorrect: false },
                { text: "25", isCorrect: false },
                { text: "49", isCorrect: false }
            ],
            hint: "Discriminant = b¬≤ - 4ac. Here, a = 1, b = -5, c = 6. So (-5)¬≤ - 4(1)(6) = 25 - 24 = 1."
        },
        {
            id: 'm89',
            difficulty: 'easy',
            question: "What is the **greatest common factor (GCF)** of 24 and 36?",
            answerOptions: [
                { text: "6", isCorrect: false },
                { text: "12", isCorrect: true },
                { text: "24", isCorrect: false },
                { text: "72", isCorrect: false }
            ],
            hint: "List the factors of 24 (1, 2, 3, 4, 6, 8, 12, 24) and 36 (1, 2, 3, 4, 6, 9, 12, 18, 36). Find the largest common factor."
        },
        {
            id: 'm90',
            difficulty: 'medium',
            question: "What is the **area** of a trapezoid with bases of 6 cm and 10 cm, and a height of 5 cm?",
            answerOptions: [
                { text: "30 cm¬≤", isCorrect: false },
                { text: "40 cm¬≤", isCorrect: true },
                { text: "50 cm¬≤", isCorrect: false },
                { text: "80 cm¬≤", isCorrect: false }
            ],
            hint: "Area of a trapezoid = (1/2) √ó (base‚ÇÅ + base‚ÇÇ) √ó height. Add the bases (16), multiply by height (5), then divide by 2."
        },
        {
            id: 'm91',
            difficulty: 'hard',
            question: "What is the **solution** to the equation 2x¬≤ - 8 = 0?",
            answerOptions: [
                { text: "x = 2 or x = -2", isCorrect: true },
                { text: "x = 4 or x = -4", isCorrect: false },
                { text: "x = 8", isCorrect: false },
                { text: "x = 0", isCorrect: false }
            ],
            hint: "Add 8 to both sides: 2x¬≤ = 8. Divide by 2: x¬≤ = 4. Take the square root: x = ¬±2."
        },
        {
            id: 'm92',
            difficulty: 'easy',
            question: "What is 1/3 + 1/6?",
            answerOptions: [
                { text: "2/9", isCorrect: false },
                { text: "1/2", isCorrect: true },
                { text: "1/9", isCorrect: false },
                { text: "2/6", isCorrect: false }
            ],
            hint: "Find a common denominator. 1/3 = 2/6. Then add: 2/6 + 1/6 = 3/6 = 1/2."
        },
        {
            id: 'm93',
            difficulty: 'medium',
            question: "What is the **circumference** of a circle with a radius of 7 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "21.98 inches", isCorrect: false },
                { text: "43.96 inches", isCorrect: true },
                { text: "153.86 inches", isCorrect: false },
                { text: "14 inches", isCorrect: false }
            ],
            hint: "Circumference = 2œÄr. Multiply the radius (7) by 2, then by œÄ: 2 √ó 7 √ó 3.14 = 43.96."
        },
        {
            id: 'm94',
            difficulty: 'hard',
            question: "What is the **axis of symmetry** of the parabola y = x¬≤ - 6x + 8?",
            answerOptions: [
                { text: "x = 3", isCorrect: true },
                { text: "x = -3", isCorrect: false },
                { text: "x = 6", isCorrect: false },
                { text: "x = -6", isCorrect: false }
            ],
            hint: "For a quadratic in the form ax¬≤ + bx + c, the axis of symmetry is x = -b/(2a). Here, x = -(-6)/(2√ó1) = 3."
        },
        {
            id: 'm95',
            difficulty: 'easy',
            question: "What is 7¬≤?",
            answerOptions: [
                { text: "14", isCorrect: false },
                { text: "49", isCorrect: true },
                { text: "42", isCorrect: false },
                { text: "56", isCorrect: false }
            ],
            hint: "7¬≤ means 7 √ó 7. Multiply 7 by itself to get 49."
        },
        {
            id: 'm96',
            difficulty: 'medium',
            question: "What is the **median** of the data set: 12, 8, 15, 10, 6, 9, 11?",
            answerOptions: [
                { text: "9", isCorrect: false },
                { text: "10", isCorrect: true },
                { text: "11", isCorrect: false },
                { text: "12", isCorrect: false }
            ],
            hint: "First, put the numbers in order from least to greatest. Then find the middle number."
        },
        {
            id: 'm97',
            difficulty: 'hard',
            question: "What is the **simplified form** of (x + 3)(x - 2)?",
            answerOptions: [
                { text: "x¬≤ + x - 6", isCorrect: true },
                { text: "x¬≤ - x - 6", isCorrect: false },
                { text: "x¬≤ + 5x - 6", isCorrect: false },
                { text: "x¬≤ - 5x - 6", isCorrect: false }
            ],
            hint: "Use FOIL: First (x √ó x), Outside (x √ó -2), Inside (3 √ó x), Last (3 √ó -2). Then combine like terms."
        },
        {
            id: 'm98',
            difficulty: 'easy',
            question: "What is 0.4 expressed as a fraction in simplest form?",
            answerOptions: [
                { text: "2/5", isCorrect: true },
                { text: "4/10", isCorrect: false },
                { text: "1/4", isCorrect: false },
                { text: "4/9", isCorrect: false }
            ],
            hint: "0.4 = 4/10. Simplify by dividing both numerator and denominator by 2 to get 2/5."
        },
        {
            id: 'm99',
            difficulty: 'medium',
            question: "A triangle has a base of 12 cm and an area of 48 cm¬≤. What is its height?",
            answerOptions: [
                { text: "4 cm", isCorrect: false },
                { text: "8 cm", isCorrect: true },
                { text: "6 cm", isCorrect: false },
                { text: "10 cm", isCorrect: false }
            ],
            hint: "Area of a triangle = (1/2) √ó base √ó height. So 48 = (1/2) √ó 12 √ó height. Solve for height."
        },
        {
            id: 'm100',
            difficulty: 'hard',
            question: "What is the **x-intercept** of the line with equation y = 2x - 6?",
            answerOptions: [
                { text: "x = 3", isCorrect: true },
                { text: "x = -3", isCorrect: false },
                { text: "x = 6", isCorrect: false },
                { text: "x = -6", isCorrect: false }
            ],
            hint: "The x-intercept is where y = 0. Set 0 = 2x - 6, then solve for x: 2x = 6, so x = 3."
        },
        {
            id: 'm101',
            difficulty: 'easy',
            question: "What is 8 √ó 7?",
            answerOptions: [
                { text: "48", isCorrect: false },
                { text: "56", isCorrect: true },
                { text: "54", isCorrect: false },
                { text: "64", isCorrect: false }
            ],
            hint: "Multiply 8 by 7. You can think of it as 8 √ó 5 = 40, plus 8 √ó 2 = 16, so 40 + 16 = 56."
        },
        {
            id: 'm102',
            difficulty: 'medium',
            question: "What is the **Least Common Denominator (LCD)** of 1/3 and 1/4?",
            answerOptions: [
                { text: "3", isCorrect: false },
                { text: "4", isCorrect: false },
                { text: "12", isCorrect: true },
                { text: "7", isCorrect: false }
            ],
            hint: "Find the LCM of 3 and 4. The multiples of 3 are 3, 6, 9, 12... and the multiples of 4 are 4, 8, 12..."
        },
        {
            id: 'm103',
            difficulty: 'easy',
            question: "What is 144 √∑ 12?",
            answerOptions: [
                { text: "10", isCorrect: false },
                { text: "11", isCorrect: false },
                { text: "12", isCorrect: true },
                { text: "13", isCorrect: false }
            ],
            hint: "Think: what number times 12 equals 144? Or divide 144 by 12."
        },
        {
            id: 'm104',
            difficulty: 'medium',
            question: "A rectangle has a length of 9 cm and a width of 7 cm. What is its **perimeter**?",
            answerOptions: [
                { text: "16 cm", isCorrect: false },
                { text: "32 cm", isCorrect: true },
                { text: "63 cm", isCorrect: false },
                { text: "28 cm", isCorrect: false }
            ],
            hint: "Perimeter = 2(length + width). Add 9 + 7 = 16, then multiply by 2."
        },
        {
            id: 'm105',
            difficulty: 'hard',
            question: "What is the **slope** of a line perpendicular to a line with slope 3/4?",
            answerOptions: [
                { text: "4/3", isCorrect: false },
                { text: "-4/3", isCorrect: true },
                { text: "-3/4", isCorrect: false },
                { text: "3/4", isCorrect: false }
            ],
            hint: "Perpendicular lines have slopes that are negative reciprocals. Flip 3/4 to get 4/3, then make it negative."
        },
        {
            id: 'm106',
            difficulty: 'easy',
            question: "What is 3/4 - 1/4?",
            answerOptions: [
                { text: "1/4", isCorrect: false },
                { text: "1/2", isCorrect: true },
                { text: "2/4", isCorrect: false },
                { text: "1/8", isCorrect: false }
            ],
            hint: "When denominators are the same, subtract the numerators: 3 - 1 = 2, so 2/4 = 1/2."
        },
        {
            id: 'm107',
            difficulty: 'medium',
            question: "What is 0.125 expressed as a fraction in simplest form?",
            answerOptions: [
                { text: "1/8", isCorrect: true },
                { text: "1/4", isCorrect: false },
                { text: "125/1000", isCorrect: false },
                { text: "1/5", isCorrect: false }
            ],
            hint: "0.125 = 125/1000. Simplify by dividing both numerator and denominator by 125."
        },
        {
            id: 'm108',
            difficulty: 'easy',
            question: "What is the **area** of a square with side length 9 inches?",
            answerOptions: [
                { text: "18 in¬≤", isCorrect: false },
                { text: "36 in¬≤", isCorrect: false },
                { text: "81 in¬≤", isCorrect: true },
                { text: "27 in¬≤", isCorrect: false }
            ],
            hint: "Area of a square = side √ó side. So 9 √ó 9 = 81."
        },
        {
            id: 'm109',
            difficulty: 'hard',
            question: "Solve for x: 5x - 3 = 2x + 9",
            answerOptions: [
                { text: "x = 2", isCorrect: false },
                { text: "x = 4", isCorrect: true },
                { text: "x = 6", isCorrect: false },
                { text: "x = 12", isCorrect: false }
            ],
            hint: "Get all x terms on one side and constants on the other. Subtract 2x from both sides, then add 3 to both sides."
        },
        {
            id: 'm110',
            difficulty: 'medium',
            question: "What is 60% of 45?",
            answerOptions: [
                { text: "24", isCorrect: false },
                { text: "27", isCorrect: true },
                { text: "30", isCorrect: false },
                { text: "33", isCorrect: false }
            ],
            hint: "60% = 0.60. Multiply 45 by 0.60, or find 10% (4.5) and multiply by 6."
        },
        {
            id: 'm111',
            difficulty: 'easy',
            question: "What is the **sum** of -8 and 15?",
            answerOptions: [
                { text: "-23", isCorrect: false },
                { text: "7", isCorrect: true },
                { text: "-7", isCorrect: false },
                { text: "23", isCorrect: false }
            ],
            hint: "When adding a negative and positive number, subtract the smaller absolute value from the larger: 15 - 8 = 7."
        },
        {
            id: 'm112',
            difficulty: 'medium',
            question: "What is the **circumference** of a circle with a radius of 5 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "15.7 inches", isCorrect: false },
                { text: "31.4 inches", isCorrect: true },
                { text: "78.5 inches", isCorrect: false },
                { text: "25 inches", isCorrect: false }
            ],
            hint: "Circumference = 2œÄr. Multiply the radius (5) by 2, then by œÄ: 2 √ó 5 √ó 3.14 = 31.4."
        },
        {
            id: 'm113',
            difficulty: 'hard',
            question: "What is the **simplified form** of (2x + 4)(x - 3)?",
            answerOptions: [
                { text: "2x¬≤ - 2x - 12", isCorrect: true },
                { text: "2x¬≤ + 2x - 12", isCorrect: false },
                { text: "2x¬≤ - 6x - 12", isCorrect: false },
                { text: "2x¬≤ + 10x - 12", isCorrect: false }
            ],
            hint: "Use FOIL: First (2x √ó x), Outside (2x √ó -3), Inside (4 √ó x), Last (4 √ó -3). Then combine like terms."
        },
        {
            id: 'm114',
            difficulty: 'easy',
            question: "What is 4¬≥?",
            answerOptions: [
                { text: "12", isCorrect: false },
                { text: "16", isCorrect: false },
                { text: "64", isCorrect: true },
                { text: "81", isCorrect: false }
            ],
            hint: "4¬≥ means 4 √ó 4 √ó 4. Multiply: 4 √ó 4 = 16, then 16 √ó 4 = 64."
        },
        {
            id: 'm115',
            difficulty: 'medium',
            question: "A store marks up an item by 30%. If the original price was $40, what is the new price?",
            answerOptions: [
                { text: "$52", isCorrect: true },
                { text: "$50", isCorrect: false },
                { text: "$48", isCorrect: false },
                { text: "$46", isCorrect: false }
            ],
            hint: "Find 30% of $40 (which is $12), then add it to the original price: $40 + $12 = $52."
        },
        {
            id: 'm116',
            difficulty: 'easy',
            question: "What is the **difference** between 47 and 29?",
            answerOptions: [
                { text: "16", isCorrect: false },
                { text: "18", isCorrect: true },
                { text: "20", isCorrect: false },
                { text: "22", isCorrect: false }
            ],
            hint: "Subtract 29 from 47. You can think: 47 - 20 = 27, then 27 - 9 = 18."
        },
        {
            id: 'm117',
            difficulty: 'hard',
            question: "What is the **domain** of the function f(x) = 1/(x - 2)?",
            answerOptions: [
                { text: "All real numbers", isCorrect: false },
                { text: "x ‚â† 0", isCorrect: false },
                { text: "x ‚â† 2", isCorrect: true },
                { text: "x > 2", isCorrect: false }
            ],
            hint: "The denominator cannot be zero. Set x - 2 = 0, so x = 2. The domain is all real numbers except x = 2."
        },
        {
            id: 'm118',
            difficulty: 'medium',
            question: "What is the **volume** of a cube with edge length 5 cm?",
            answerOptions: [
                { text: "15 cm¬≥", isCorrect: false },
                { text: "25 cm¬≥", isCorrect: false },
                { text: "125 cm¬≥", isCorrect: true },
                { text: "625 cm¬≥", isCorrect: false }
            ],
            hint: "Volume of a cube = edge √ó edge √ó edge. So 5 √ó 5 √ó 5 = 125."
        },
        {
            id: 'm119',
            difficulty: 'easy',
            question: "What is 2/5 + 3/10?",
            answerOptions: [
                { text: "5/15", isCorrect: false },
                { text: "7/10", isCorrect: true },
                { text: "5/10", isCorrect: false },
                { text: "6/10", isCorrect: false }
            ],
            hint: "Find a common denominator. 2/5 = 4/10. Then add: 4/10 + 3/10 = 7/10."
        },
        {
            id: 'm120',
            difficulty: 'medium',
            question: "What is the **mean** of the data set: 8, 12, 15, 10, 5?",
            answerOptions: [
                { text: "9", isCorrect: false },
                { text: "10", isCorrect: true },
                { text: "11", isCorrect: false },
                { text: "12", isCorrect: false }
            ],
            hint: "Add all numbers: 8 + 12 + 15 + 10 + 5 = 50. Then divide by 5 (the number of values): 50 √∑ 5 = 10."
        },
        {
            id: 'm121',
            difficulty: 'hard',
            question: "What is the **y-intercept** of the line passing through points (2, 5) and (4, 11)?",
            answerOptions: [
                { text: "-1", isCorrect: true },
                { text: "1", isCorrect: false },
                { text: "3", isCorrect: false },
                { text: "5", isCorrect: false }
            ],
            hint: "First find the slope: (11 - 5)/(4 - 2) = 6/2 = 3. Then use point-slope form: y - 5 = 3(x - 2). When x = 0, y = -1."
        },
        {
            id: 'm122',
            difficulty: 'easy',
            question: "What is 9 √ó 6?",
            answerOptions: [
                { text: "48", isCorrect: false },
                { text: "54", isCorrect: true },
                { text: "56", isCorrect: false },
                { text: "63", isCorrect: false }
            ],
            hint: "Multiply 9 by 6. You can think: 9 √ó 5 = 45, plus 9 √ó 1 = 9, so 45 + 9 = 54."
        },
        {
            id: 'm123',
            difficulty: 'medium',
            question: "What is 1.5 √ó 8?",
            answerOptions: [
                { text: "10", isCorrect: false },
                { text: "12", isCorrect: true },
                { text: "14", isCorrect: false },
                { text: "16", isCorrect: false }
            ],
            hint: "1.5 = 3/2. So 1.5 √ó 8 = (3/2) √ó 8 = 3 √ó 4 = 12."
        },
        {
            id: 'm124',
            difficulty: 'easy',
            question: "What is the **product** of 7 and 8?",
            answerOptions: [
                { text: "54", isCorrect: false },
                { text: "56", isCorrect: true },
                { text: "58", isCorrect: false },
                { text: "64", isCorrect: false }
            ],
            hint: "Product means multiply. 7 √ó 8 = 56."
        },
        {
            id: 'm125',
            difficulty: 'hard',
            question: "What is the **solution set** for the inequality 3x + 7 ‚â• 22?",
            answerOptions: [
                { text: "x ‚â• 5", isCorrect: true },
                { text: "x ‚â§ 5", isCorrect: false },
                { text: "x ‚â• 15", isCorrect: false },
                { text: "x ‚â§ 15", isCorrect: false }
            ],
            hint: "Subtract 7 from both sides: 3x ‚â• 15. Then divide by 3: x ‚â• 5."
        },
        {
            id: 'm126',
            difficulty: 'medium',
            question: "What is the **area** of a parallelogram with base 10 cm and height 6 cm?",
            answerOptions: [
                { text: "16 cm¬≤", isCorrect: false },
                { text: "32 cm¬≤", isCorrect: false },
                { text: "60 cm¬≤", isCorrect: true },
                { text: "120 cm¬≤", isCorrect: false }
            ],
            hint: "Area of a parallelogram = base √ó height. So 10 √ó 6 = 60."
        },
        {
            id: 'm127',
            difficulty: 'easy',
            question: "What is 6¬≤?",
            answerOptions: [
                { text: "12", isCorrect: false },
                { text: "36", isCorrect: true },
                { text: "30", isCorrect: false },
                { text: "42", isCorrect: false }
            ],
            hint: "6¬≤ means 6 √ó 6. Multiply 6 by itself to get 36."
        },
        {
            id: 'm128',
            difficulty: 'medium',
            question: "What is 3/8 √ó 4/9?",
            answerOptions: [
                { text: "7/17", isCorrect: false },
                { text: "12/72", isCorrect: false },
                { text: "1/6", isCorrect: true },
                { text: "7/72", isCorrect: false }
            ],
            hint: "Multiply numerators (3 √ó 4 = 12) and denominators (8 √ó 9 = 72), then simplify: 12/72 = 1/6."
        },
        {
            id: 'm129',
            difficulty: 'hard',
            question: "What is the **vertex form** of the quadratic y = x¬≤ - 6x + 5?",
            answerOptions: [
                { text: "y = (x - 3)¬≤ - 4", isCorrect: true },
                { text: "y = (x - 3)¬≤ + 4", isCorrect: false },
                { text: "y = (x + 3)¬≤ - 4", isCorrect: false },
                { text: "y = (x - 6)¬≤ + 5", isCorrect: false }
            ],
            hint: "Complete the square: (x¬≤ - 6x + 9) - 9 + 5 = (x - 3)¬≤ - 4."
        },
        {
            id: 'm130',
            difficulty: 'easy',
            question: "What is 35 √∑ 5?",
            answerOptions: [
                { text: "5", isCorrect: false },
                { text: "6", isCorrect: false },
                { text: "7", isCorrect: true },
                { text: "8", isCorrect: false }
            ],
            hint: "Think: what number times 5 equals 35? Or divide 35 by 5."
        },
        {
            id: 'm131',
            difficulty: 'medium',
            question: "What is 75% of 80?",
            answerOptions: [
                { text: "55", isCorrect: false },
                { text: "60", isCorrect: true },
                { text: "65", isCorrect: false },
                { text: "70", isCorrect: false }
            ],
            hint: "75% = 0.75. Multiply 80 by 0.75, or find 25% (20) and subtract from 80, or find 3/4 of 80."
        },
        {
            id: 'm132',
            difficulty: 'hard',
            question: "What is the **range** of the function f(x) = -x¬≤ + 4?",
            answerOptions: [
                { text: "y ‚â• 4", isCorrect: false },
                { text: "y ‚â§ 4", isCorrect: true },
                { text: "y ‚â• 0", isCorrect: false },
                { text: "All real numbers", isCorrect: false }
            ],
            hint: "Since -x¬≤ is always ‚â§ 0, -x¬≤ + 4 is always ‚â§ 4. The maximum value is 4, so the range is y ‚â§ 4."
        },
        {
            id: 'm133',
            difficulty: 'easy',
            question: "What is the **sum** of 23 and 47?",
            answerOptions: [
                { text: "60", isCorrect: false },
                { text: "70", isCorrect: true },
                { text: "80", isCorrect: false },
                { text: "90", isCorrect: false }
            ],
            hint: "Add 23 + 47. You can think: 20 + 40 = 60, plus 3 + 7 = 10, so 60 + 10 = 70."
        },
        {
            id: 'm134',
            difficulty: 'medium',
            question: "What is the **circumference** of a circle with a diameter of 14 inches? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "21.98 inches", isCorrect: false },
                { text: "43.96 inches", isCorrect: true },
                { text: "153.86 inches", isCorrect: false },
                { text: "615.44 inches", isCorrect: false }
            ],
            hint: "Circumference = œÄ √ó diameter. Multiply 14 by œÄ (3.14): 14 √ó 3.14 = 43.96."
        },
        {
            id: 'm135',
            difficulty: 'hard',
            question: "What is the **discriminant** of the quadratic equation 2x¬≤ - 7x + 3 = 0?",
            answerOptions: [
                { text: "25", isCorrect: true },
                { text: "-25", isCorrect: false },
                { text: "49", isCorrect: false },
                { text: "1", isCorrect: false }
            ],
            hint: "Discriminant = b¬≤ - 4ac. Here, a = 2, b = -7, c = 3. So (-7)¬≤ - 4(2)(3) = 49 - 24 = 25."
        },
        {
            id: 'm136',
            difficulty: 'easy',
            question: "What is 11 √ó 4?",
            answerOptions: [
                { text: "40", isCorrect: false },
                { text: "44", isCorrect: true },
                { text: "48", isCorrect: false },
                { text: "52", isCorrect: false }
            ],
            hint: "Multiply 11 by 4. You can think: 10 √ó 4 = 40, plus 1 √ó 4 = 4, so 40 + 4 = 44."
        },
        {
            id: 'm137',
            difficulty: 'medium',
            question: "What is the **area** of a triangle with base 15 cm and height 8 cm?",
            answerOptions: [
                { text: "23 cm¬≤", isCorrect: false },
                { text: "60 cm¬≤", isCorrect: true },
                { text: "120 cm¬≤", isCorrect: false },
                { text: "240 cm¬≤", isCorrect: false }
            ],
            hint: "Area of a triangle = (1/2) √ó base √ó height. So (1/2) √ó 15 √ó 8 = 60."
        },
        {
            id: 'm138',
            difficulty: 'hard',
            question: "What is the **simplified form** of ‚àö72?",
            answerOptions: [
                { text: "6‚àö2", isCorrect: true },
                { text: "8‚àö2", isCorrect: false },
                { text: "12‚àö2", isCorrect: false },
                { text: "36‚àö2", isCorrect: false }
            ],
            hint: "Factor 72: 72 = 36 √ó 2 = 6¬≤ √ó 2. So ‚àö72 = ‚àö(36 √ó 2) = 6‚àö2."
        },
        {
            id: 'm139',
            difficulty: 'easy',
            question: "What is 0.5 expressed as a fraction?",
            answerOptions: [
                { text: "1/4", isCorrect: false },
                { text: "1/2", isCorrect: true },
                { text: "1/3", isCorrect: false },
                { text: "2/3", isCorrect: false }
            ],
            hint: "0.5 = 5/10. Simplify by dividing both numerator and denominator by 5 to get 1/2."
        },
        {
            id: 'm140',
            difficulty: 'medium',
            question: "A shirt costs $25. If it's on sale for 20% off, what is the sale price?",
            answerOptions: [
                { text: "$5", isCorrect: false },
                { text: "$20", isCorrect: true },
                { text: "$22", isCorrect: false },
                { text: "$23", isCorrect: false }
            ],
            hint: "Find 20% of $25 (which is $5), then subtract from the original price: $25 - $5 = $20."
        },
        {
            id: 'm141',
            difficulty: 'hard',
            question: "What is the **inverse** of the function f(x) = 3x + 2?",
            answerOptions: [
                { text: "f‚Åª¬π(x) = (x - 2)/3", isCorrect: true },
                { text: "f‚Åª¬π(x) = (x + 2)/3", isCorrect: false },
                { text: "f‚Åª¬π(x) = 3x - 2", isCorrect: false },
                { text: "f‚Åª¬π(x) = x/3 - 2", isCorrect: false }
            ],
            hint: "Switch x and y: x = 3y + 2. Solve for y: x - 2 = 3y, so y = (x - 2)/3."
        },
        {
            id: 'm142',
            difficulty: 'easy',
            question: "What is 13 + 27?",
            answerOptions: [
                { text: "38", isCorrect: false },
                { text: "40", isCorrect: true },
                { text: "42", isCorrect: false },
                { text: "44", isCorrect: false }
            ],
            hint: "Add 13 + 27. You can think: 10 + 20 = 30, plus 3 + 7 = 10, so 30 + 10 = 40."
        },
        {
            id: 'm143',
            difficulty: 'medium',
            question: "What is the **volume** of a cylinder with radius 4 cm and height 10 cm? (Use œÄ ‚âà 3.14)",
            answerOptions: [
                { text: "125.6 cm¬≥", isCorrect: false },
                { text: "251.2 cm¬≥", isCorrect: false },
                { text: "502.4 cm¬≥", isCorrect: true },
                { text: "1,004.8 cm¬≥", isCorrect: false }
            ],
            hint: "Volume = œÄ √ó r¬≤ √ó h. Square the radius (16), multiply by œÄ (3.14), then by height (10): 16 √ó 3.14 √ó 10 = 502.4."
        },
        {
            id: 'm144',
            difficulty: 'hard',
            question: "What is the **axis of symmetry** of the parabola y = -2x¬≤ + 8x - 5?",
            answerOptions: [
                { text: "x = 2", isCorrect: true },
                { text: "x = -2", isCorrect: false },
                { text: "x = 4", isCorrect: false },
                { text: "x = -4", isCorrect: false }
            ],
            hint: "For ax¬≤ + bx + c, the axis of symmetry is x = -b/(2a). Here, x = -8/(2√ó-2) = -8/-4 = 2."
        },
        {
            id: 'm145',
            difficulty: 'easy',
            question: "What is 9¬≤?",
            answerOptions: [
                { text: "18", isCorrect: false },
                { text: "72", isCorrect: false },
                { text: "81", isCorrect: true },
                { text: "90", isCorrect: false }
            ],
            hint: "9¬≤ means 9 √ó 9. Multiply 9 by itself to get 81."
        },
        {
            id: 'm146',
            difficulty: 'medium',
            question: "What is 2.5 √ó 6?",
            answerOptions: [
                { text: "12", isCorrect: false },
                { text: "15", isCorrect: true },
                { text: "18", isCorrect: false },
                { text: "20", isCorrect: false }
            ],
            hint: "2.5 = 5/2. So 2.5 √ó 6 = (5/2) √ó 6 = 5 √ó 3 = 15."
        },
        {
            id: 'm147',
            difficulty: 'hard',
            question: "What is the **simplified form** of (x + 5)¬≤?",
            answerOptions: [
                { text: "x¬≤ + 25", isCorrect: false },
                { text: "x¬≤ + 10x + 25", isCorrect: true },
                { text: "x¬≤ + 5x + 25", isCorrect: false },
                { text: "x¬≤ + 10x + 10", isCorrect: false }
            ],
            hint: "Use the formula (a + b)¬≤ = a¬≤ + 2ab + b¬≤. So (x + 5)¬≤ = x¬≤ + 2(x)(5) + 5¬≤ = x¬≤ + 10x + 25."
        },
        {
            id: 'm148',
            difficulty: 'easy',
            question: "What is 48 √∑ 6?",
            answerOptions: [
                { text: "6", isCorrect: false },
                { text: "7", isCorrect: false },
                { text: "8", isCorrect: true },
                { text: "9", isCorrect: false }
            ],
            hint: "Think: what number times 6 equals 48? Or divide 48 by 6."
        },
        {
            id: 'm149',
            difficulty: 'medium',
            question: "What is the **perimeter** of a rectangle with length 12 cm and width 8 cm?",
            answerOptions: [
                { text: "20 cm", isCorrect: false },
                { text: "40 cm", isCorrect: true },
                { text: "96 cm", isCorrect: false },
                { text: "80 cm", isCorrect: false }
            ],
            hint: "Perimeter = 2(length + width). Add 12 + 8 = 20, then multiply by 2."
        },
        {
            id: 'm150',
            difficulty: 'hard',
            question: "What is the **range** of the data set: 5, 8, 12, 15, 20, 25?",
            answerOptions: [
                { text: "15", isCorrect: false },
                { text: "20", isCorrect: true },
                { text: "25", isCorrect: false },
                { text: "30", isCorrect: false }
            ],
            hint: "Range = maximum - minimum. The highest value is 25 and the lowest is 5, so 25 - 5 = 20."
        }
    ];

    // ============================================
    // TOPIC LOOKUP (additive ‚Äî does not modify question objects)
    // ============================================
    const QUESTION_TOPICS = {
        'm1':'ratios','m2':'ratios','m3':'percentages','m4':'fractions','m5':'fractions',
        'm6':'decimals','m7':'number-theory','m8':'integers','m9':'coordinate-geometry',
        'm10':'order-of-operations','m11':'algebra','m12':'statistics','m13':'statistics',
        'm14':'statistics','m15':'geometry','m16':'geometry','m17':'algebra','m18':'algebra',
        'm19':'algebra','m20':'algebra','m21':'number-theory','m22':'statistics',
        'm23':'percentages','m24':'coordinate-geometry','m25':'geometry','m26':'percentages',
        'm27':'fractions','m28':'algebra','m29':'geometry','m30':'fractions',
        'm31':'geometry','m32':'order-of-operations','m33':'probability','m34':'algebra',
        'm35':'geometry','m36':'statistics','m37':'fractions','m38':'algebra',
        'm39':'fractions','m40':'geometry','m41':'patterns','m42':'number-theory',
        'm43':'geometry','m44':'decimals','m45':'order-of-operations','m46':'percentages',
        'm47':'geometry','m48':'fractions','m49':'fractions','m50':'algebra',
        'm51':'coordinate-geometry','m52':'percentages','m53':'number-theory','m54':'geometry',
        'm55':'algebra','m56':'geometry','m57':'number-sense','m58':'algebra',
        'm59':'geometry','m60':'statistics','m61':'order-of-operations','m62':'number-sense',
        'm63':'algebra','m64':'percentages','m65':'ratios','m66':'algebra',
        'm67':'geometry','m68':'geometry','m69':'algebra','m70':'geometry',
        'm71':'patterns','m72':'probability','m73':'algebra','m74':'fractions',
        'm75':'geometry','m76':'algebra','m77':'fractions','m78':'geometry',
        'm79':'algebra','m80':'number-sense','m81':'geometry','m82':'algebra',
        'm83':'statistics','m84':'fractions','m85':'algebra','m86':'percentages',
        'm87':'geometry','m88':'algebra','m89':'number-theory','m90':'geometry',
        'm91':'algebra','m92':'fractions','m93':'geometry','m94':'algebra',
        'm95':'number-sense','m96':'statistics','m97':'algebra','m98':'fractions',
        'm99':'geometry','m100':'algebra','m101':'number-sense','m102':'number-theory',
        'm103':'number-sense','m104':'geometry','m105':'algebra','m106':'fractions',
        'm107':'fractions','m108':'geometry','m109':'algebra','m110':'percentages',
        'm111':'integers','m112':'geometry','m113':'algebra','m114':'number-sense',
        'm115':'percentages','m116':'number-sense','m117':'algebra','m118':'geometry',
        'm119':'fractions','m120':'statistics','m121':'algebra','m122':'number-sense',
        'm123':'decimals','m124':'number-sense','m125':'algebra','m126':'geometry',
        'm127':'number-sense','m128':'fractions','m129':'algebra','m130':'number-sense',
        'm131':'percentages','m132':'algebra','m133':'number-sense','m134':'geometry',
        'm135':'algebra','m136':'number-sense','m137':'geometry','m138':'algebra',
        'm139':'fractions','m140':'percentages','m141':'algebra','m142':'number-sense',
        'm143':'geometry','m144':'algebra','m145':'number-sense','m146':'decimals',
        'm147':'algebra','m148':'number-sense','m149':'geometry','m150':'statistics'
    };

    const TOPIC_LABELS = {
        'ratios':               'Ratios & Rates',
        'percentages':          'Percentages',
        'fractions':            'Fractions',
        'decimals':             'Decimals',
        'number-theory':        'Number Theory',
        'integers':             'Integers',
        'coordinate-geometry':  'Coordinate Geometry',
        'order-of-operations':  'Order of Operations',
        'algebra':              'Algebra',
        'statistics':           'Statistics & Data',
        'geometry':             'Geometry',
        'probability':          'Probability',
        'patterns':             'Patterns',
        'number-sense':         'Number Sense',
    };

    // ============================================
    // MAP PREP ENGINE
    // ============================================
    const mapPrep = {
        questions: [],
        currentIndex: 0,
        answered: false,
        stats: {
            totalAnswered: 0,
            correct: 0,
            currentStreak: 0,
            bestStreak: 0
        },
        sessionQuestions: 0,

        // ‚îÄ‚îÄ new: history, daily goal, weak-area mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        history: [],          // {id, topic, difficulty, correct, ts}
        dailyCount: 0,        // questions answered today
        dayStreak: 0,         // consecutive days with ‚â•1 answer
        _newDay: true,        // flag: first answer of a new day needs streak bump
        weakAreaMode: false,
        weakAreaQueue: [],
        weakAreaIndex: 0,
        
        init() {
            // Augment each question with its topic (non-destructive additive)
            MAP_MATH_QUESTIONS.forEach(q => {
                q.topic = QUESTION_TOPICS[q.id] || 'general';
            });

            // Load saved stats
            this.loadStats();

            // Load history + daily goal data
            this.loadHistory();

            // Shuffle questions
            this.questions = this.shuffleArray([...MAP_MATH_QUESTIONS]);

            // Display first question
            this.displayQuestion();

            // Update stats display
            this.updateStatsDisplay();

            // Update daily goal bar
            this.updateDailyGoal();

            // Update weak areas panel
            this.updateWeakAreasPanel();

            // Initialize theme switcher
            this.initThemeSwitcher();
        },
        
        shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        },
        
        displayQuestion() {
            const question = this.weakAreaMode
                ? this.weakAreaQueue[this.weakAreaIndex]
                : this.questions[this.currentIndex];
            this.answered = false;
            
            // Update question number
            document.getElementById('questionNumber').textContent = 
                `Question ${this.sessionQuestions + 1}`;
            
            // Update difficulty badge
            const badge = document.getElementById('difficultyBadge');
            badge.textContent = question.difficulty.charAt(0).toUpperCase() + question.difficulty.slice(1);
            badge.className = `difficulty-badge difficulty-${question.difficulty}`;
            
            // Update question text (convert **text** to <strong>text</strong>)
            const questionText = question.question.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            document.getElementById('questionText').innerHTML = questionText;
            
            // Update hint
            document.getElementById('hintContent').textContent = question.hint;
            document.getElementById('hintContent').classList.remove('visible');
            document.getElementById('hintToggle').innerHTML = 'üí° Show Hint';
            
            // Generate answer options
            const optionsContainer = document.getElementById('answerOptions');
            const letters = ['A', 'B', 'C', 'D'];
            
            // Shuffle answer options for variety
            const shuffledOptions = this.shuffleArray(
                question.answerOptions.map((opt, idx) => ({ ...opt, originalIndex: idx }))
            );
            
            optionsContainer.innerHTML = shuffledOptions.map((option, index) => `
                <button class="answer-option" data-index="${index}" data-correct="${option.isCorrect}" onclick="mapPrep.selectAnswer(this)">
                    <span class="option-letter">${letters[index]}</span>
                    <span class="option-text">${option.text}</span>
                </button>
            `).join('');
            
            // Reset feedback and next button
            document.getElementById('feedbackMessage').classList.remove('visible', 'correct', 'incorrect');
            document.getElementById('nextBtn').disabled = true;
            
            // Update progress bar
            this.updateProgress();
        },
        
        selectAnswer(button) {
            if (this.answered) return;
            this.answered = true;

            const isCorrect = button.dataset.correct === 'true';
            const allOptions = document.querySelectorAll('.answer-option');
            const question = this.weakAreaMode
                ? this.weakAreaQueue[this.weakAreaIndex]
                : this.questions[this.currentIndex];

            // Disable all options
            allOptions.forEach(opt => opt.classList.add('disabled'));

            // Mark selected answer
            if (isCorrect) {
                button.classList.add('correct');
                this.stats.correct++;
                this.stats.currentStreak++;

                if (this.stats.currentStreak > this.stats.bestStreak) {
                    this.stats.bestStreak = this.stats.currentStreak;
                }

                // Show streak popup for milestones
                if (this.stats.currentStreak > 0 && this.stats.currentStreak % 5 === 0) {
                    this.showStreakPopup(this.stats.currentStreak);
                }

                this.showFeedback(true, `‚úì Correct! Great job!`);
            } else {
                button.classList.add('incorrect');
                this.stats.currentStreak = 0;

                // Show correct answer
                allOptions.forEach(opt => {
                    if (opt.dataset.correct === 'true') {
                        opt.classList.add('show-correct');
                    }
                });

                this.showFeedback(false, `‚úó Not quite. See the correct answer above.`);

                // Auto-reveal hint on wrong answer
                const hintContent = document.getElementById('hintContent');
                const hintToggle = document.getElementById('hintToggle');
                if (!hintContent.classList.contains('visible')) {
                    hintContent.classList.add('visible');
                    hintToggle.innerHTML = 'üí° Hide Hint';
                }
            }

            this.stats.totalAnswered++;
            this.sessionQuestions++;

            // Record to history + update daily goal
            this.recordAnswer(question, isCorrect);

            // Save stats and update display
            this.saveStats();
            this.updateStatsDisplay();

            // Enable next button
            document.getElementById('nextBtn').disabled = false;
        },
        
        showFeedback(isCorrect, message) {
            const feedback = document.getElementById('feedbackMessage');
            feedback.textContent = message;
            feedback.className = `feedback-message visible ${isCorrect ? 'correct' : 'incorrect'}`;
        },
        
        showStreakPopup(streak) {
            const popup = document.getElementById('streakPopup');
            popup.textContent = `üî• ${streak} Streak!`;
            popup.classList.add('show');
            
            setTimeout(() => {
                popup.classList.remove('show');
            }, 1500);
        },
        
        nextQuestion() {
            if (this.weakAreaMode) {
                this.weakAreaIndex++;
                if (this.weakAreaIndex >= this.weakAreaQueue.length) {
                    // Refresh queue with current misses (user may have fixed some)
                    this.weakAreaQueue = this.shuffleArray([...this.buildWeakAreaQueue()]);
                    this.weakAreaIndex = 0;
                }
            } else {
                this.currentIndex++;
                // Loop back and reshuffle when we run out
                if (this.currentIndex >= this.questions.length) {
                    this.currentIndex = 0;
                    this.questions = this.shuffleArray([...MAP_MATH_QUESTIONS]);
                }
            }

            this.displayQuestion();
        },
        
        skipQuestion() {
            if (!this.answered) {
                this.stats.currentStreak = 0;
                this.sessionQuestions++;
                this.updateStatsDisplay();
            }
            this.nextQuestion();
        },
        
        toggleHint() {
            const hintContent = document.getElementById('hintContent');
            const hintToggle = document.getElementById('hintToggle');
            
            if (hintContent.classList.contains('visible')) {
                hintContent.classList.remove('visible');
                hintToggle.innerHTML = 'üí° Show Hint';
            } else {
                hintContent.classList.add('visible');
                hintToggle.innerHTML = 'üí° Hide Hint';
            }
        },
        
        updateProgress() {
            const progress = (this.sessionQuestions % 50) / 50 * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressCount').textContent = 
                `${this.sessionQuestions % 50} / 50`;
        },
        
        updateStatsDisplay() {
            document.getElementById('totalAnswered').textContent = this.stats.totalAnswered;
            document.getElementById('currentStreak').textContent = this.stats.currentStreak;
            document.getElementById('bestStreak').textContent = this.stats.bestStreak;
            
            const accuracy = this.stats.totalAnswered > 0 
                ? Math.round((this.stats.correct / this.stats.totalAnswered) * 100) 
                : 0;
            document.getElementById('accuracy').textContent = 
                this.stats.totalAnswered > 0 ? `${accuracy}%` : '--%';
        },
        
        saveStats() {
            try {
                localStorage.setItem('mapPrepStats', JSON.stringify(this.stats));
            } catch (e) {
                console.error('Failed to save stats:', e);
            }
        },
        
        loadStats() {
            try {
                const saved = localStorage.getItem('mapPrepStats');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    this.stats = { ...this.stats, ...parsed };
                }
            } catch (e) {
                console.error('Failed to load stats:', e);
            }
        },
        
        // ‚îÄ‚îÄ History persistence ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        loadHistory() {
            try {
                const saved = localStorage.getItem('mapPrepHistory');
                this.history = saved ? JSON.parse(saved) : [];
            } catch(e) { this.history = []; }

            try {
                const saved = localStorage.getItem('mapPrepDailyGoal');
                if (saved) {
                    const d = JSON.parse(saved);
                    const today = this.getDateStr();
                    const yesterday = this.getDateStr(-1);
                    if (d.date === today) {
                        this.dailyCount = d.count;
                        this.dayStreak  = d.dayStreak;
                        this._newDay    = false;
                    } else if (d.date === yesterday) {
                        // New day, consecutive ‚Äî streak persists, bumps on first answer
                        this.dailyCount = 0;
                        this.dayStreak  = d.dayStreak;
                        this._newDay    = true;
                    } else {
                        // Missed at least one day ‚Äî reset streak
                        this.dailyCount = 0;
                        this.dayStreak  = 0;
                        this._newDay    = true;
                    }
                }
            } catch(e) {}
        },

        saveHistory() {
            try {
                // Keep last 500 entries to avoid localStorage bloat
                const trimmed = this.history.length > 500
                    ? this.history.slice(-500)
                    : this.history;
                localStorage.setItem('mapPrepHistory', JSON.stringify(trimmed));
            } catch(e) {}
        },

        saveDailyGoal() {
            try {
                localStorage.setItem('mapPrepDailyGoal', JSON.stringify({
                    date:      this.getDateStr(),
                    count:     this.dailyCount,
                    dayStreak: this.dayStreak,
                }));
            } catch(e) {}
        },

        getDateStr(offsetDays = 0) {
            const d = new Date();
            d.setDate(d.getDate() + offsetDays);
            return d.toISOString().split('T')[0];
        },

        // ‚îÄ‚îÄ Record each answered question ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        recordAnswer(question, isCorrect) {
            if (!question) return;
            this.history.push({
                id:         question.id,
                topic:      question.topic || 'general',
                difficulty: question.difficulty,
                correct:    isCorrect,
                ts:         Date.now(),
            });
            this.saveHistory();

            // Daily goal tracking
            this.dailyCount++;
            if (this.dailyCount === 1 && this._newDay) {
                this.dayStreak++;
                this._newDay = false;
            }
            this.saveDailyGoal();
            this.updateDailyGoal();
            this.updateWeakAreasPanel();
        },

        // ‚îÄ‚îÄ Daily Goal bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        updateDailyGoal() {
            const GOAL = 10;
            const count = this.dailyCount;
            const pct   = Math.min(100, Math.round(count / GOAL * 100));
            const done  = count >= GOAL;

            const bar   = document.getElementById('dailyProgressBar');
            const label = document.getElementById('dailyGoalCount');
            const badge = document.getElementById('dayStreakBadge');

            if (bar) {
                bar.style.width = pct + '%';
                bar.className = 'progress-bar-fill ' + (done ? 'goal-complete' : 'goal-fill');
            }
            if (label) {
                label.textContent = count + ' / ' + GOAL + (done ? ' ‚úì' : '');
                label.className   = 'daily-goal-count' + (done ? ' goal-complete' : '');
            }
            if (badge) {
                const s = this.dayStreak;
                badge.textContent = s > 0
                    ? `üî• ${s} day streak`
                    : `üóìÔ∏è 0 day streak`;
                badge.className = 'day-streak-badge' + (s > 0 ? ' active' : '');
            }
        },

        // ‚îÄ‚îÄ Topic stats aggregation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        getTopicStats() {
            const stats = {};
            for (const h of this.history) {
                const t = h.topic || 'general';
                if (!stats[t]) stats[t] = { total: 0, wrong: 0 };
                stats[t].total++;
                if (!h.correct) stats[t].wrong++;
            }
            return stats;
        },

        // ‚îÄ‚îÄ Weak Areas panel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        toggleWeakAreas() {
            const body = document.getElementById('weakAreasBody');
            const icon = document.getElementById('weakToggleIcon');
            if (!body) return;
            const open = body.style.display !== 'none';
            body.style.display = open ? 'none' : 'block';
            if (icon) icon.classList.toggle('open', !open);
        },

        updateWeakAreasPanel() {
            const topicStats   = this.getTopicStats();
            const breakdown    = document.getElementById('topicBreakdown');
            const missedList   = document.getElementById('missedList');
            const summary      = document.getElementById('weakAreasSummary');

            if (!breakdown) return;

            const topics = Object.keys(topicStats);
            if (topics.length === 0) {
                breakdown.innerHTML = '<p class="no-history-msg">Answer some questions to see your weak areas.</p>';
                if (summary) summary.textContent = '';
                if (missedList) missedList.innerHTML = '';
                return;
            }

            // Sort by accuracy ascending (worst first)
            topics.sort((a, b) => {
                const accA = (topicStats[a].total - topicStats[a].wrong) / topicStats[a].total;
                const accB = (topicStats[b].total - topicStats[b].wrong) / topicStats[b].total;
                return accA - accB;
            });

            // Summary badge
            const totalWrong = topics.reduce((s, t) => s + topicStats[t].wrong, 0);
            if (summary) {
                summary.textContent = totalWrong > 0
                    ? `(${totalWrong} miss${totalWrong > 1 ? 'es' : ''} to review)`
                    : '(looking good!)';
            }

            // Topic rows
            breakdown.innerHTML = topics.map(t => {
                const { total, wrong } = topicStats[t];
                const acc = Math.round((total - wrong) / total * 100);
                const fillClass = acc >= 80 ? 'good' : acc >= 50 ? 'ok' : 'bad';
                const label = TOPIC_LABELS[t] || t;
                return `
                <div class="topic-row">
                    <span class="topic-name">${label}</span>
                    <div class="topic-mini-bar">
                        <div class="topic-mini-fill ${fillClass}" style="width:${acc}%"></div>
                    </div>
                    <span class="topic-stats">${acc}% (${total - wrong}/${total})</span>
                </div>`;
            }).join('');

            // Missed questions list ‚Äî last 8 unique wrong answers
            if (missedList) {
                const seen = new Set();
                const recent = [];
                for (let i = this.history.length - 1; i >= 0 && recent.length < 8; i--) {
                    const h = this.history[i];
                    if (!h.correct && !seen.has(h.id)) {
                        seen.add(h.id);
                        const q = MAP_MATH_QUESTIONS.find(q => q.id === h.id);
                        if (q) recent.push({ q, h });
                    }
                }

                if (recent.length === 0) {
                    missedList.innerHTML = '';
                } else {
                    const items = recent.map(({ q, h }) => {
                        const label = TOPIC_LABELS[h.topic] || h.topic;
                        // Strip markdown bold for display
                        const text = q.question.replace(/\*\*(.*?)\*\*/g, '$1');
                        const snippet = text.length > 80 ? text.slice(0, 80) + '‚Ä¶' : text;
                        return `
                        <div class="missed-item">
                            <span class="missed-item-topic">${label}</span>
                            <span class="missed-item-text">${snippet}</span>
                        </div>`;
                    }).join('');
                    missedList.innerHTML = '<p style="font-size:0.8rem;color:var(--text-secondary);margin:0 0 8px;">Last missed questions:</p>' + items;
                }
            }
        },

        // ‚îÄ‚îÄ Weak Area Mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        buildWeakAreaQueue() {
            const wrongCounts = {};
            for (const h of this.history) {
                if (!h.correct) {
                    wrongCounts[h.id] = (wrongCounts[h.id] || 0) + 1;
                }
            }
            const sortedIds = Object.keys(wrongCounts)
                .sort((a, b) => wrongCounts[b] - wrongCounts[a]);
            return sortedIds
                .map(id => MAP_MATH_QUESTIONS.find(q => q.id === id))
                .filter(Boolean);
        },

        startWeakAreaMode() {
            const queue = this.buildWeakAreaQueue();
            if (queue.length === 0) {
                alert('No missed questions yet ‚Äî answer some questions first!');
                return;
            }
            this.weakAreaMode  = true;
            this.weakAreaQueue = this.shuffleArray([...queue]);
            this.weakAreaIndex = 0;
            const banner = document.getElementById('weakModeBanner');
            if (banner) banner.style.display = 'flex';
            this.displayQuestion();
        },

        stopWeakAreaMode() {
            this.weakAreaMode  = false;
            this.weakAreaQueue = [];
            this.weakAreaIndex = 0;
            const banner = document.getElementById('weakModeBanner');
            if (banner) banner.style.display = 'none';
            this.displayQuestion();
        },

        clearHistory() {
            if (!confirm('Reset all weak-area history? Your score stats will be kept.')) return;
            this.history = [];
            this.saveHistory();
            this.updateWeakAreasPanel();
        },

        initThemeSwitcher() {
            const themeButtons = document.querySelectorAll('.theme-btn');
            
            // Load saved theme
            const savedTheme = localStorage.getItem('mathbored-theme') || '';
            if (savedTheme) {
                document.body.className = savedTheme;
                themeButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === savedTheme.replace('theme-', ''));
                });
            }
            
            themeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const theme = btn.dataset.theme;
                    document.body.className = theme ? `theme-${theme}` : '';
                    
                    themeButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    localStorage.setItem('mathbored-theme', theme ? `theme-${theme}` : '');
                });
            });
        }
    };

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
        mapPrep.init();
    });
    </script>
</body>
</html>

